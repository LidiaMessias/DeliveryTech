{"timestamp":"2025-11-04     11:41:18.457","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     11:41:18.458","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     11:41:18.458","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     11:41:18.763","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     11:41:18.788","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 24 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     11:41:18.891","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     11:41:18.892","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     11:41:18.892","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     11:41:18.914","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     11:41:18.914","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 454 ms","exception":""}
{"timestamp":"2025-11-04     11:41:18.973","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     11:41:18.974","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-10 - Starting...","exception":""}
{"timestamp":"2025-11-04     11:41:18.977","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-10 - Added connection conn94: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     11:41:18.977","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-10 - Start completed.","exception":""}
{"timestamp":"2025-11-04     11:41:18.978","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     11:41:19.114","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     11:41:19.115","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:41:19.115","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:41:19.115","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     11:41:19.116","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     11:41:19.117","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     11:41:19.117","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:41:19.120","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:41:19.122","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:41:19.125","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:41:19.126","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:41:19.128","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:41:19.131","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     11:41:19.133","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     11:41:19.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     11:41:19.136","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     11:41:19.137","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     11:41:19.140","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     11:41:19.183","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     11:41:19.183","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     11:41:19.251","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     11:41:19.252","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     11:41:19.318","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     11:41:19.319","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.322","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     11:41:19.322","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.323","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     11:41:19.323","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.333","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     11:41:19.334","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.334","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     11:41:19.336","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.336","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     11:41:19.336","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.348","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     11:41:19.349","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.350","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     11:41:19.350","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:41:19.412","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     11:41:19.456","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     11:41:19.488","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     11:41:19.517","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     11:41:19.533","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     11:41:19.539","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     11:41:19.576","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     11:41:19.588","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     11:41:19.606","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     11:41:19.612","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 1.201 seconds (process running for 4916.7)","exception":""}
{"timestamp":"2025-11-04     11:41:19.617","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:41:19.623","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:41:19.627","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:41:19.630","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:41:19.651","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     11:41:19.658","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     11:41:19.664","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     11:41:19.670","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     11:41:19.675","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     11:41:19.682","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     11:41:19.686","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     11:41:19.691","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
{"timestamp":"2025-11-04     11:48:52.134","level":"INFO","thread":"File Watcher","correlationId":"","logger":"o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener","message":"Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)","exception":""}
{"timestamp":"2025-11-04     11:48:52.136","level":"INFO","thread":"Thread-40","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-11-04     11:48:52.222","level":"INFO","thread":"tomcat-shutdown","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-11-04     11:48:52.225","level":"INFO","thread":"Thread-40","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     11:48:52.226","level":"DEBUG","thread":"Thread-40","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.226","level":"DEBUG","thread":"Thread-40","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.227","level":"DEBUG","thread":"Thread-40","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.228","level":"DEBUG","thread":"Thread-40","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.228","level":"DEBUG","thread":"Thread-40","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.229","level":"DEBUG","thread":"Thread-40","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.230","level":"WARN","thread":"Thread-40","correlationId":"","logger":"o.s.b.f.s.DisposableBeanAdapter","message":"Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]","exception":""}
{"timestamp":"2025-11-04     11:48:52.230","level":"INFO","thread":"Thread-40","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-10 - Shutdown initiated...","exception":""}
{"timestamp":"2025-11-04     11:48:52.231","level":"INFO","thread":"Thread-40","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-10 - Shutdown completed.","exception":""}
{"timestamp":"2025-11-04     11:48:52.365","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     11:48:52.366","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     11:48:52.366","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     11:48:52.628","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     11:48:52.656","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 27 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     11:48:52.734","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     11:48:52.734","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     11:48:52.736","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     11:48:52.757","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     11:48:52.757","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 389 ms","exception":""}
{"timestamp":"2025-11-04     11:48:52.831","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     11:48:52.832","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-11 - Starting...","exception":""}
{"timestamp":"2025-11-04     11:48:52.834","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-11 - Added connection conn104: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     11:48:52.834","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-11 - Start completed.","exception":""}
{"timestamp":"2025-11-04     11:48:52.835","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     11:48:52.970","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.971","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.972","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.972","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.973","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.973","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     11:48:52.974","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:48:52.975","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:48:52.976","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:48:52.978","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:48:52.981","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:48:52.982","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:48:52.984","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     11:48:52.985","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     11:48:52.986","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     11:48:52.988","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     11:48:52.990","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     11:48:52.992","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     11:48:53.035","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     11:48:53.035","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     11:48:53.092","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     11:48:53.093","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     11:48:53.146","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     11:48:53.146","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.149","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     11:48:53.149","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.150","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     11:48:53.150","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.161","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     11:48:53.161","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.162","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     11:48:53.164","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.164","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     11:48:53.164","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.176","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     11:48:53.177","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.178","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     11:48:53.178","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:48:53.221","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     11:48:53.245","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     11:48:53.277","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     11:48:53.309","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     11:48:53.330","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     11:48:53.335","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     11:48:53.379","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     11:48:53.393","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     11:48:53.408","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     11:48:53.413","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 1.096 seconds (process running for 5370.501)","exception":""}
{"timestamp":"2025-11-04     11:48:53.418","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:48:53.424","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:48:53.429","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:48:53.431","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:48:53.452","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     11:48:53.459","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     11:48:53.465","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     11:48:53.472","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     11:48:53.476","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     11:48:53.480","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     11:48:53.485","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     11:48:53.489","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
{"timestamp":"2025-11-04     11:59:09.584","level":"INFO","thread":"File Watcher","correlationId":"","logger":"o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener","message":"Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)","exception":""}
{"timestamp":"2025-11-04     11:59:09.587","level":"INFO","thread":"Thread-50","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-11-04     11:59:09.624","level":"INFO","thread":"tomcat-shutdown","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-11-04     11:59:09.626","level":"INFO","thread":"Thread-50","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     11:59:09.626","level":"DEBUG","thread":"Thread-50","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:09.626","level":"DEBUG","thread":"Thread-50","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:09.626","level":"DEBUG","thread":"Thread-50","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:09.626","level":"DEBUG","thread":"Thread-50","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:09.628","level":"DEBUG","thread":"Thread-50","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:09.628","level":"DEBUG","thread":"Thread-50","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:09.630","level":"WARN","thread":"Thread-50","correlationId":"","logger":"o.s.b.f.s.DisposableBeanAdapter","message":"Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]","exception":""}
{"timestamp":"2025-11-04     11:59:09.630","level":"INFO","thread":"Thread-50","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-11 - Shutdown initiated...","exception":""}
{"timestamp":"2025-11-04     11:59:09.632","level":"INFO","thread":"Thread-50","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-11 - Shutdown completed.","exception":""}
{"timestamp":"2025-11-04     11:59:09.722","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     11:59:09.723","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     11:59:09.723","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     11:59:09.880","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     11:59:09.896","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     11:59:09.943","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     11:59:09.949","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     11:59:09.949","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     11:59:09.960","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     11:59:09.960","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 235 ms","exception":""}
{"timestamp":"2025-11-04     11:59:09.993","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     11:59:09.993","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-12 - Starting...","exception":""}
{"timestamp":"2025-11-04     11:59:10.000","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-12 - Added connection conn114: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     11:59:10.000","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-12 - Start completed.","exception":""}
{"timestamp":"2025-11-04     11:59:10.001","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     11:59:10.083","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:10.085","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:10.086","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:10.086","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:10.087","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:10.087","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     11:59:10.088","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:59:10.089","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:59:10.091","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:59:10.092","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:59:10.093","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:59:10.093","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     11:59:10.094","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     11:59:10.095","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     11:59:10.096","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     11:59:10.097","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     11:59:10.097","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     11:59:10.099","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     11:59:10.137","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     11:59:10.137","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     11:59:10.189","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     11:59:10.190","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     11:59:10.223","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     11:59:10.223","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.223","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     11:59:10.223","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.223","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     11:59:10.223","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.237","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     11:59:10.237","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.238","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     11:59:10.238","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.238","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     11:59:10.239","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.241","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     11:59:10.241","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.241","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     11:59:10.241","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     11:59:10.288","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     11:59:10.336","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     11:59:10.360","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     11:59:10.375","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     11:59:10.390","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     11:59:10.398","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     11:59:10.418","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     11:59:10.429","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     11:59:10.436","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     11:59:10.436","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 0.74 seconds (process running for 5987.531)","exception":""}
{"timestamp":"2025-11-04     11:59:10.447","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:59:10.451","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:59:10.455","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:59:10.457","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     11:59:10.472","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     11:59:10.475","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     11:59:10.479","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     11:59:10.483","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     11:59:10.486","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     11:59:10.489","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     11:59:10.493","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     11:59:10.496","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
{"timestamp":"2025-11-04     12:01:50.599","level":"INFO","thread":"File Watcher","correlationId":"","logger":"o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener","message":"Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)","exception":""}
{"timestamp":"2025-11-04     12:01:50.603","level":"INFO","thread":"Thread-54","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-11-04     12:01:50.639","level":"INFO","thread":"tomcat-shutdown","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-11-04     12:01:50.639","level":"INFO","thread":"Thread-54","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:01:50.639","level":"DEBUG","thread":"Thread-54","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:50.639","level":"DEBUG","thread":"Thread-54","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:50.639","level":"DEBUG","thread":"Thread-54","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:50.639","level":"DEBUG","thread":"Thread-54","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:50.644","level":"DEBUG","thread":"Thread-54","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:50.644","level":"DEBUG","thread":"Thread-54","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:50.644","level":"WARN","thread":"Thread-54","correlationId":"","logger":"o.s.b.f.s.DisposableBeanAdapter","message":"Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]","exception":""}
{"timestamp":"2025-11-04     12:01:50.646","level":"INFO","thread":"Thread-54","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-12 - Shutdown initiated...","exception":""}
{"timestamp":"2025-11-04     12:01:50.646","level":"INFO","thread":"Thread-54","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-12 - Shutdown completed.","exception":""}
{"timestamp":"2025-11-04     12:01:50.723","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     12:01:50.723","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     12:01:50.723","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     12:01:50.851","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     12:01:50.869","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     12:01:50.937","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     12:01:50.937","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     12:01:50.938","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     12:01:50.956","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     12:01:50.957","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 233 ms","exception":""}
{"timestamp":"2025-11-04     12:01:50.997","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     12:01:50.997","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-13 - Starting...","exception":""}
{"timestamp":"2025-11-04     12:01:51.002","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-13 - Added connection conn124: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     12:01:51.002","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-13 - Start completed.","exception":""}
{"timestamp":"2025-11-04     12:01:51.002","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     12:01:51.100","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:51.101","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:51.101","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:51.101","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:51.101","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:51.102","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:01:51.102","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:01:51.104","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:01:51.105","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:01:51.106","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:01:51.108","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:01:51.109","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:01:51.111","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     12:01:51.112","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     12:01:51.113","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     12:01:51.113","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:01:51.115","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:01:51.117","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:01:51.151","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:01:51.152","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:01:51.191","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     12:01:51.191","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     12:01:51.227","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     12:01:51.227","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.235","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     12:01:51.235","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.235","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     12:01:51.236","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.240","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:01:51.240","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.247","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:01:51.247","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.247","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     12:01:51.248","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.258","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:01:51.258","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.259","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:01:51.259","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:01:51.324","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:01:51.341","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:01:51.358","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     12:01:51.369","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     12:01:51.390","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:01:51.402","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:01:51.425","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     12:01:51.432","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     12:01:51.436","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     12:01:51.450","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 0.762 seconds (process running for 6148.537)","exception":""}
{"timestamp":"2025-11-04     12:01:51.453","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:01:51.457","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:01:51.459","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:01:51.461","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:01:51.469","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     12:01:51.476","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:01:51.479","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     12:01:51.480","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     12:01:51.480","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:01:51.486","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     12:01:51.489","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     12:01:51.491","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
{"timestamp":"2025-11-04     12:17:21.601","level":"INFO","thread":"File Watcher","correlationId":"","logger":"o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener","message":"Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)","exception":""}
{"timestamp":"2025-11-04     12:17:21.603","level":"INFO","thread":"Thread-58","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-11-04     12:17:21.648","level":"INFO","thread":"tomcat-shutdown","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-11-04     12:17:21.650","level":"INFO","thread":"Thread-58","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:17:21.650","level":"DEBUG","thread":"Thread-58","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:21.651","level":"DEBUG","thread":"Thread-58","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:21.652","level":"DEBUG","thread":"Thread-58","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:21.652","level":"DEBUG","thread":"Thread-58","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:21.653","level":"DEBUG","thread":"Thread-58","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:21.653","level":"DEBUG","thread":"Thread-58","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:21.654","level":"WARN","thread":"Thread-58","correlationId":"","logger":"o.s.b.f.s.DisposableBeanAdapter","message":"Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]","exception":""}
{"timestamp":"2025-11-04     12:17:21.654","level":"INFO","thread":"Thread-58","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-13 - Shutdown initiated...","exception":""}
{"timestamp":"2025-11-04     12:17:21.655","level":"INFO","thread":"Thread-58","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-13 - Shutdown completed.","exception":""}
{"timestamp":"2025-11-04     12:17:21.746","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     12:17:21.746","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     12:17:21.746","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     12:17:22.189","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     12:17:22.336","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 145 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     12:17:22.383","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     12:17:22.384","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     12:17:22.384","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     12:17:22.394","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     12:17:22.394","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 647 ms","exception":""}
{"timestamp":"2025-11-04     12:17:22.441","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     12:17:22.441","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-14 - Starting...","exception":""}
{"timestamp":"2025-11-04     12:17:22.441","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-14 - Added connection conn134: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     12:17:22.441","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-14 - Start completed.","exception":""}
{"timestamp":"2025-11-04     12:17:22.441","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:17:22.574","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:17:22.582","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:17:22.582","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:17:22.582","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:17:22.582","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:17:22.582","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     12:17:22.586","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     12:17:22.586","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     12:17:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:17:22.589","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:17:22.590","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:17:22.617","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:17:22.618","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:17:22.684","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     12:17:22.684","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     12:17:22.825","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     12:17:22.825","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.827","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     12:17:22.827","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.828","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     12:17:22.828","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.855","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:17:22.855","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.856","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:17:22.856","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.856","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     12:17:22.860","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.890","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:17:22.890","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.902","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:17:22.902","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:17:22.923","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:17:22.938","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:17:22.962","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     12:17:22.989","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     12:17:22.990","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:17:23.004","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:17:23.017","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     12:17:23.035","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     12:17:23.035","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     12:17:23.051","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 1.329 seconds (process running for 7080.138)","exception":""}
{"timestamp":"2025-11-04     12:17:23.053","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:17:23.057","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:17:23.059","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:17:23.061","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:17:23.074","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     12:17:23.074","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:17:23.084","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     12:17:23.088","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     12:17:23.089","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:17:23.093","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     12:17:23.096","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     12:17:23.099","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
{"timestamp":"2025-11-04     12:22:21.997","level":"INFO","thread":"File Watcher","correlationId":"","logger":"o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener","message":"Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)","exception":""}
{"timestamp":"2025-11-04     12:22:21.999","level":"INFO","thread":"Thread-62","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-11-04     12:22:22.036","level":"INFO","thread":"tomcat-shutdown","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-11-04     12:22:22.038","level":"INFO","thread":"Thread-62","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:22:22.038","level":"DEBUG","thread":"Thread-62","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.039","level":"DEBUG","thread":"Thread-62","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.040","level":"DEBUG","thread":"Thread-62","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.040","level":"DEBUG","thread":"Thread-62","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.040","level":"DEBUG","thread":"Thread-62","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.040","level":"DEBUG","thread":"Thread-62","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.040","level":"WARN","thread":"Thread-62","correlationId":"","logger":"o.s.b.f.s.DisposableBeanAdapter","message":"Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]","exception":""}
{"timestamp":"2025-11-04     12:22:22.040","level":"INFO","thread":"Thread-62","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-14 - Shutdown initiated...","exception":""}
{"timestamp":"2025-11-04     12:22:22.042","level":"INFO","thread":"Thread-62","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-14 - Shutdown completed.","exception":""}
{"timestamp":"2025-11-04     12:22:22.135","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     12:22:22.135","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     12:22:22.136","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     12:22:22.389","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     12:22:22.407","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     12:22:22.465","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     12:22:22.466","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     12:22:22.466","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     12:22:22.477","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     12:22:22.477","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 339 ms","exception":""}
{"timestamp":"2025-11-04     12:22:22.510","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     12:22:22.511","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-15 - Starting...","exception":""}
{"timestamp":"2025-11-04     12:22:22.512","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-15 - Added connection conn144: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     12:22:22.512","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-15 - Start completed.","exception":""}
{"timestamp":"2025-11-04     12:22:22.512","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:22:22.588","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:22:22.598","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:22:22.600","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     12:22:22.602","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     12:22:22.604","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     12:22:22.604","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:22:22.604","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:22:22.604","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:22:22.642","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:22:22.642","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:22:22.685","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     12:22:22.685","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     12:22:22.734","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     12:22:22.734","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.734","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     12:22:22.734","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.734","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     12:22:22.734","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.751","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:22:22.751","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.751","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:22:22.751","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.751","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     12:22:22.755","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.760","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:22:22.760","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.760","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:22:22.763","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:22:22.785","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:22:22.818","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:22:22.838","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     12:22:22.857","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     12:22:22.868","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:22:22.868","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:22:22.892","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     12:22:22.899","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     12:22:22.907","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     12:22:22.916","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 0.805 seconds (process running for 7380.004)","exception":""}
{"timestamp":"2025-11-04     12:22:22.920","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:22:22.923","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:22:22.927","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:22:22.928","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:22:22.942","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     12:22:22.949","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:22:22.953","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     12:22:22.957","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     12:22:22.957","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:22:22.957","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     12:22:22.968","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     12:22:22.970","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
{"timestamp":"2025-11-04     12:34:11.445","level":"INFO","thread":"File Watcher","correlationId":"","logger":"o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener","message":"Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)","exception":""}
{"timestamp":"2025-11-04     12:34:11.445","level":"INFO","thread":"Thread-66","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-11-04     12:34:11.487","level":"INFO","thread":"tomcat-shutdown","correlationId":"","logger":"o.s.b.w.e.tomcat.GracefulShutdown","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"INFO","thread":"Thread-66","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"DEBUG","thread":"Thread-66","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"DEBUG","thread":"Thread-66","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"DEBUG","thread":"Thread-66","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"DEBUG","thread":"Thread-66","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"DEBUG","thread":"Thread-66","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"DEBUG","thread":"Thread-66","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"WARN","thread":"Thread-66","correlationId":"","logger":"o.s.b.f.s.DisposableBeanAdapter","message":"Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"INFO","thread":"Thread-66","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-15 - Shutdown initiated...","exception":""}
{"timestamp":"2025-11-04     12:34:11.491","level":"INFO","thread":"Thread-66","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-15 - Shutdown completed.","exception":""}
{"timestamp":"2025-11-04     12:34:11.581","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Starting DeliveryApiApplication using Java 17.0.16 with PID 18480 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)","exception":""}
{"timestamp":"2025-11-04     12:34:11.581","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Running with Spring Boot v3.5.6, Spring v6.2.11","exception":""}
{"timestamp":"2025-11-04     12:34:11.581","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-11-04     12:34:11.765","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-11-04     12:34:11.781","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.","exception":""}
{"timestamp":"2025-11-04     12:34:11.857","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-11-04     12:34:11.858","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardService","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-11-04     12:34:11.859","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.46]","exception":""}
{"timestamp":"2025-11-04     12:34:11.869","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-11-04     12:34:11.870","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 289 ms","exception":""}
{"timestamp":"2025-11-04     12:34:11.905","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-11-04     12:34:11.905","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-16 - Starting...","exception":""}
{"timestamp":"2025-11-04     12:34:11.905","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-16 - Added connection conn154: url=jdbc:h2:mem:deliverydb user=SA","exception":""}
{"timestamp":"2025-11-04     12:34:11.905","level":"INFO","thread":"restartedMain","correlationId":"","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-16 - Start completed.","exception":""}
{"timestamp":"2025-11-04     12:34:11.915","level":"WARN","thread":"restartedMain","correlationId":"","logger":"org.hibernate.orm.deprecation","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists cliente cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists item_pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists pedido cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists produto cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists restaurante cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    drop table if exists usuario cascade ","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:34:11.966","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:34:11.981","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )","exception":""}
{"timestamp":"2025-11-04     12:34:11.984","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido","exception":""}
{"timestamp":"2025-11-04     12:34:11.985","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto","exception":""}
{"timestamp":"2025-11-04     12:34:11.986","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente","exception":""}
{"timestamp":"2025-11-04     12:34:11.986","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:34:11.987","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante","exception":""}
{"timestamp":"2025-11-04     12:34:11.987","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-11-04     12:34:12.019","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"c.d.d.s.JwtAuthenticationFilter","message":"Filter 'jwtAuthenticationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:34:12.020","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.f.ServerHttpObservationFilter","message":"Filter 'webMvcObservationFilter' configured for use","exception":""}
{"timestamp":"2025-11-04     12:34:12.087","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","exception":""}
{"timestamp":"2025-11-04     12:34:12.088","level":"WARN","thread":"restartedMain","correlationId":"","logger":"o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","message":"Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR","exception":""}
{"timestamp":"2025-11-04     12:34:12.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)","exception":""}
{"timestamp":"2025-11-04     12:34:12.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)","exception":""}
{"timestamp":"2025-11-04     12:34:12.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)","exception":""}
{"timestamp":"2025-11-04     12:34:12.134","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.146","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:34:12.146","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.146","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)","exception":""}
{"timestamp":"2025-11-04     12:34:12.147","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.147","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)","exception":""}
{"timestamp":"2025-11-04     12:34:12.148","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.152","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:34:12.152","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.152","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.p.PrePostAnnotationSecurityMetadataSource","message":"@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)","exception":""}
{"timestamp":"2025-11-04     12:34:12.155","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.a.m.DelegatingMethodSecurityMetadataSource","message":"Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]","exception":""}
{"timestamp":"2025-11-04     12:34:12.188","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerMapping","message":"43 mappings in 'requestMappingHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:34:12.221","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.h.SimpleUrlHandlerMapping","message":"Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'","exception":""}
{"timestamp":"2025-11-04     12:34:12.255","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.e.web.EndpointLinksResolver","message":"Exposing 6 endpoints beneath base path '/actuator'","exception":""}
{"timestamp":"2025-11-04     12:34:12.283","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.s.web.DefaultSecurityFilterChain","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","exception":""}
{"timestamp":"2025-11-04     12:34:12.304","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.RequestMappingHandlerAdapter","message":"ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:34:12.320","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver","message":"ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice","exception":""}
{"timestamp":"2025-11-04     12:34:12.366","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'","exception":""}
{"timestamp":"2025-11-04     12:34:12.385","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.OptionalLiveReloadServer","message":"LiveReload server is running on port 35729","exception":""}
{"timestamp":"2025-11-04     12:34:12.398","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.w.e.tomcat.TomcatWebServer","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-11-04     12:34:12.403","level":"INFO","thread":"restartedMain","correlationId":"","logger":"c.d.d.DeliveryApiApplication","message":"Started DeliveryApiApplication in 0.843 seconds (process running for 8089.491)","exception":""}
{"timestamp":"2025-11-04     12:34:12.407","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:34:12.409","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:34:12.410","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:34:12.410","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)","exception":""}
{"timestamp":"2025-11-04     12:34:12.422","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?","exception":""}
{"timestamp":"2025-11-04     12:34:12.428","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:34:12.432","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'","exception":""}
{"timestamp":"2025-11-04     12:34:12.435","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only","exception":""}
{"timestamp":"2025-11-04     12:34:12.438","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo","exception":""}
{"timestamp":"2025-11-04     12:34:12.441","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?","exception":""}
{"timestamp":"2025-11-04     12:34:12.442","level":"DEBUG","thread":"restartedMain","correlationId":"","logger":"org.hibernate.SQL","message":"
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?","exception":""}
{"timestamp":"2025-11-04     12:34:12.442","level":"INFO","thread":"restartedMain","correlationId":"","logger":"o.s.b.d.a.ConditionEvaluationDeltaLoggingListener","message":"Condition evaluation unchanged","exception":""}
