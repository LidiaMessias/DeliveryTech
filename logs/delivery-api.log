2025-11-05 08:30:51.685 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34952 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 08:30:51.711 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 08:30:51.717 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 08:30:51.905 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05 08:30:51.907 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05 08:30:57.331 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 08:30:57.582 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 224 ms. Found 5 JPA repository interfaces.
2025-11-05 08:31:00.206 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 08:31:00.254 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 08:31:00.263 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 08:31:00.264 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 08:31:00.455 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 08:31:00.456 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8545 ms
2025-11-05 08:31:02.891 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 08:31:03.028 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-05 08:31:03.618 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 08:31:03.621 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-05 08:31:03.682 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 08:31:06.324 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 08:31:06.333 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 08:31:06.335 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 08:31:06.337 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 08:31:06.339 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 08:31:06.340 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 08:31:06.359 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 08:31:06.401 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 08:31:06.409 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 08:31:06.415 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 08:31:06.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 08:31:06.431 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 08:31:06.438 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 08:31:06.475 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 08:31:06.482 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 08:31:06.488 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 08:31:06.493 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 08:31:06.508 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 08:31:07.704 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 08:31:07.709 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 08:31:07.970 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05 08:31:10.043 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 08:31:10.047 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 08:31:10.943 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 08:31:10.951 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:10.990 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 08:31:10.991 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:10.994 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 08:31:10.994 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:11.048 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 08:31:11.049 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:11.052 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 08:31:11.056 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:11.058 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 08:31:11.060 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:11.109 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 08:31:11.111 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:11.114 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 08:31:11.116 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 08:31:12.007 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 08:31:12.353 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 08:31:12.849 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 08:31:13.388 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 08:31:13.668 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 08:31:13.826 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 08:31:14.427 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 08:31:14.677 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 08:31:14.865 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 08:31:14.954 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 08:31:15.006 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 25.099 seconds (process running for 26.509)
2025-11-05 08:31:15.359 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 08:31:15.630 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 08:31:15.648 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 08:31:15.660 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 08:31:16.011 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 08:31:16.104 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 08:31:16.149 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 08:31:16.177 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 08:31:16.195 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 08:31:16.215 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 08:31:16.234 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 08:47:04.222 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 93 class path changes (0 additions, 93 deletions, 0 modifications)
2025-11-05 08:47:04.230 [Thread-5] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 08:47:04.233 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 08:47:04.291 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 08:47:04.293 [Thread-5] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 08:47:04.300 [Thread-5] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 08:47:04.302 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 08:47:04.304 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 08:47:04.306 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 08:47:04.307 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 08:47:04.309 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 08:47:04.309 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 08:47:04.320 [Thread-5] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 08:47:04.321 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-05 08:47:04.323 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-05 09:00:58.156 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 8036 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 09:00:58.161 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 09:00:58.163 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 09:00:58.245 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05 09:00:58.246 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05 09:01:01.055 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 09:01:01.174 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 5 JPA repository interfaces.
2025-11-05 09:01:02.913 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 09:01:02.940 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 09:01:02.945 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 09:01:02.946 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 09:01:03.060 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 09:01:03.062 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4813 ms
2025-11-05 09:01:04.609 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 09:01:04.674 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-05 09:01:05.072 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 09:01:05.076 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-05 09:01:05.132 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 09:01:06.975 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 09:01:06.980 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 09:01:06.982 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 09:01:06.983 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 09:01:06.984 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 09:01:06.984 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 09:01:06.994 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 09:01:07.011 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 09:01:07.015 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 09:01:07.017 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 09:01:07.020 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 09:01:07.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 09:01:07.027 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 09:01:07.042 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 09:01:07.045 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 09:01:07.047 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 09:01:07.050 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 09:01:07.056 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 09:01:07.673 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 09:01:07.676 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 09:01:07.821 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05 09:01:09.271 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 09:01:09.272 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 09:01:09.769 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 09:01:09.772 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.788 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 09:01:09.789 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.789 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 09:01:09.790 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.815 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 09:01:09.816 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.817 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 09:01:09.820 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.820 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 09:01:09.822 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.846 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 09:01:09.847 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:09.849 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 09:01:09.850 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:01:10.356 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 09:01:10.564 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 09:01:10.832 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 09:01:11.195 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 09:01:11.376 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 09:01:11.492 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 09:01:11.884 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 09:01:12.031 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 09:01:12.139 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 09:01:12.186 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 09:01:12.212 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 15.122 seconds (process running for 15.735)
2025-11-05 09:01:12.397 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 09:01:12.496 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 09:01:12.502 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 09:01:12.507 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 09:01:12.656 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 09:01:12.689 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 09:01:12.707 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 09:01:12.718 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 09:01:12.726 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 09:01:12.736 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 09:01:12.742 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 09:08:51.404 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 09:08:51.414 [Thread-6] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 09:08:51.419 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 09:08:51.499 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 09:08:51.500 [Thread-6] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 09:08:51.509 [Thread-6] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 09:08:51.511 [Thread-6] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 09:08:51.516 [Thread-6] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 09:08:51.518 [Thread-6] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 09:08:51.520 [Thread-6] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 09:08:51.521 [Thread-6] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 09:08:51.522 [Thread-6] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 09:08:51.532 [Thread-6] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 09:08:51.534 [Thread-6] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-05 09:08:51.538 [Thread-6] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-05 09:08:51.787 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 8036 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 09:08:51.787 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 09:08:51.788 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 09:08:52.363 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 09:08:52.412 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-11-05 09:08:52.580 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 09:08:52.581 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 09:08:52.582 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 09:08:52.582 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 09:08:52.621 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 09:08:52.622 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 830 ms
2025-11-05 09:08:52.727 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 09:08:52.729 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-05 09:08:52.732 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 09:08:52.732 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-05 09:08:52.733 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 09:08:52.932 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 09:08:52.932 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 09:08:52.934 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 09:08:52.934 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 09:08:52.935 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 09:08:52.935 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 09:08:52.937 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 09:08:52.939 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 09:08:52.941 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 09:08:52.945 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 09:08:52.948 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 09:08:52.951 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 09:08:52.954 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 09:08:52.957 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 09:08:52.959 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 09:08:52.961 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 09:08:52.964 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 09:08:52.967 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 09:08:53.030 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 09:08:53.031 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 09:08:53.130 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 09:08:53.131 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 09:08:53.234 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 09:08:53.235 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.238 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 09:08:53.239 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.239 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 09:08:53.240 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.260 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 09:08:53.261 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.262 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 09:08:53.263 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.264 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 09:08:53.264 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.283 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 09:08:53.284 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.286 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 09:08:53.286 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:08:53.382 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 09:08:53.425 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 09:08:53.486 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 09:08:53.531 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 09:08:53.560 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 09:08:53.574 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 09:08:53.644 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 09:08:53.667 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 09:08:53.687 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 09:08:53.691 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 09:08:53.702 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 2.1 seconds (process running for 477.225)
2025-11-05 09:08:53.707 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 09:08:53.714 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 09:08:53.720 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 09:08:53.723 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 09:08:53.754 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 09:08:53.763 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 09:08:53.770 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 09:08:53.775 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 09:08:53.779 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 09:08:53.785 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 09:08:53.792 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 09:08:53.800 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 09:10:09.007 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-11-05 09:10:09.010 [Thread-8] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 09:10:09.012 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 09:10:09.075 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 09:10:09.076 [Thread-8] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 09:10:09.080 [Thread-8] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 09:10:09.080 [Thread-8] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 09:10:09.081 [Thread-8] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 09:10:09.083 [Thread-8] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 09:10:09.085 [Thread-8] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 09:10:09.086 [Thread-8] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 09:10:09.087 [Thread-8] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 09:10:09.089 [Thread-8] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 09:10:09.090 [Thread-8] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-05 09:10:09.092 [Thread-8] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-05 09:10:09.299 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 8036 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 09:10:09.301 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 09:10:09.301 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 09:10:10.551 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 09:10:10.598 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-11-05 09:10:10.788 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 09:10:10.790 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 09:10:10.790 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 09:10:10.791 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 09:10:10.826 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 09:10:10.827 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1522 ms
2025-11-05 09:10:10.947 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 09:10:10.948 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-05 09:10:10.952 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 09:10:10.952 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-05 09:10:10.954 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 09:10:11.182 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 09:10:11.184 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 09:10:11.185 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 09:10:11.186 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 09:10:11.188 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 09:10:11.190 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 09:10:11.192 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 09:10:11.194 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 09:10:11.198 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 09:10:11.200 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 09:10:11.202 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 09:10:11.205 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 09:10:11.208 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 09:10:11.212 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 09:10:11.215 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 09:10:11.218 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 09:10:11.222 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 09:10:11.226 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 09:10:11.306 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 09:10:11.307 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 09:10:11.428 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 09:10:11.429 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 09:10:11.567 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 09:10:11.568 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.572 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 09:10:11.572 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.572 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 09:10:11.573 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.591 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 09:10:11.591 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.594 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 09:10:11.596 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.596 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 09:10:11.597 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.620 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 09:10:11.620 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.621 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 09:10:11.622 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 09:10:11.790 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 09:10:11.858 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 09:10:11.977 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 09:10:12.070 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 09:10:12.112 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 09:10:12.129 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 09:10:12.227 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 09:10:12.266 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 09:10:12.308 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 09:10:12.338 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 09:10:12.402 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 3.247 seconds (process running for 555.926)
2025-11-05 09:10:12.411 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 09:10:12.421 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 09:10:12.428 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 09:10:12.437 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 09:10:12.498 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 09:10:12.508 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 09:10:12.516 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 09:10:12.525 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 09:10:12.534 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 09:10:12.541 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 09:10:12.550 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 09:10:12.557 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 10:26:30.051 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 10:26:30.065 [Thread-14] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 10:26:30.071 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 10:26:30.132 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 10:26:30.133 [Thread-14] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 10:26:30.140 [Thread-14] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 10:26:30.145 [Thread-14] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 10:26:30.150 [Thread-14] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 10:26:30.151 [Thread-14] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 10:26:30.153 [Thread-14] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 10:26:30.153 [Thread-14] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 10:26:30.154 [Thread-14] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 10:26:30.165 [Thread-14] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 10:26:30.165 [Thread-14] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-05 10:26:30.167 [Thread-14] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-05 10:26:30.449 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 8036 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 10:26:30.450 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 10:26:30.451 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 10:26:31.320 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 10:26:31.491 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 168 ms. Found 5 JPA repository interfaces.
2025-11-05 10:26:31.683 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 10:26:31.685 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 10:26:31.686 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 10:26:31.687 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 10:26:31.733 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 10:26:31.733 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1276 ms
2025-11-05 10:26:31.835 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 10:26:31.839 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-05 10:26:31.842 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn51: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 10:26:31.842 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-05 10:26:31.843 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 10:26:32.063 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 10:26:32.063 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 10:26:32.065 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 10:26:32.065 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 10:26:32.066 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 10:26:32.066 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 10:26:32.067 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 10:26:32.069 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 10:26:32.072 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 10:26:32.075 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 10:26:32.077 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 10:26:32.080 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 10:26:32.082 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 10:26:32.084 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 10:26:32.085 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 10:26:32.088 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 10:26:32.090 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 10:26:32.092 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 10:26:32.144 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 10:26:32.144 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 10:26:32.265 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 10:26:32.266 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 10:26:32.429 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 10:26:32.430 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.433 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 10:26:32.434 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.434 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 10:26:32.434 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.469 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 10:26:32.470 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.471 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 10:26:32.473 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.473 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 10:26:32.473 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.509 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 10:26:32.510 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.511 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 10:26:32.512 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:26:32.524 [restartedMain] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tracingService' defined in file [C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes\com\deliverytech\delivery_api\service\TracingService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'brave.Tracer' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-11-05 10:26:32.525 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 10:26:32.525 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 10:26:32.526 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 10:26:32.527 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 10:26:32.527 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 10:26:32.527 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 10:26:32.529 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 10:26:32.530 [restartedMain] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 10:26:32.531 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-05 10:26:32.532 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-05 10:26:32.533 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-05 10:26:32.541 [restartedMain] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-05 10:26:32.575 [restartedMain] ERROR [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.deliverytech.delivery_api.service.TracingService required a bean of type 'brave.Tracer' that could not be found.


Action:

Consider defining a bean of type 'brave.Tracer' in your configuration.

2025-11-05 10:33:10.473 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 8036 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 10:33:10.473 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 10:33:10.474 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 10:33:10.946 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 10:33:10.987 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2025-11-05 10:33:11.121 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 10:33:11.125 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 10:33:11.126 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 10:33:11.126 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 10:33:11.158 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 10:33:11.158 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 682 ms
2025-11-05 10:33:11.231 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 10:33:11.233 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-05 10:33:11.235 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn61: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 10:33:11.235 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-05 10:33:11.237 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 10:33:11.394 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 10:33:11.395 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 10:33:11.396 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 10:33:11.396 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 10:33:11.396 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 10:33:11.398 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 10:33:11.398 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 10:33:11.400 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 10:33:11.402 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 10:33:11.403 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 10:33:11.405 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 10:33:11.409 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 10:33:11.411 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 10:33:11.413 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 10:33:11.414 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 10:33:11.416 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 10:33:11.417 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 10:33:11.419 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 10:33:11.476 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 10:33:11.477 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 10:33:11.566 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 10:33:11.567 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 10:33:11.645 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 10:33:11.646 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.648 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 10:33:11.649 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.649 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 10:33:11.649 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.664 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 10:33:11.664 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.665 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 10:33:11.665 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.665 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 10:33:11.666 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.681 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 10:33:11.681 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.682 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 10:33:11.683 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 10:33:11.695 [restartedMain] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tracingService' defined in file [C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes\com\deliverytech\delivery_api\service\TracingService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'brave.Tracer' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-11-05 10:33:11.697 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 10:33:11.697 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 10:33:11.698 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 10:33:11.699 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 10:33:11.700 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 10:33:11.700 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 10:33:11.701 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 10:33:11.702 [restartedMain] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 10:33:11.703 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-05 10:33:11.703 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-05 10:33:11.705 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-05 10:33:11.711 [restartedMain] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-05 10:33:11.718 [restartedMain] ERROR [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.deliverytech.delivery_api.service.TracingService required a bean of type 'brave.Tracer' that could not be found.


Action:

Consider defining a bean of type 'brave.Tracer' in your configuration.

2025-11-05 11:10:39.258 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 32080 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 11:10:39.262 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 11:10:39.264 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 11:10:39.342 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05 11:10:39.343 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05 11:10:42.014 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 11:10:42.135 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 5 JPA repository interfaces.
2025-11-05 11:10:43.672 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 11:10:43.694 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 11:10:43.701 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 11:10:43.702 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 11:10:43.804 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 11:10:43.804 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4459 ms
2025-11-05 11:10:44.976 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 11:10:45.036 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-05 11:10:45.331 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 11:10:45.334 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-05 11:10:45.374 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 11:10:46.838 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 11:10:46.843 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 11:10:46.844 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 11:10:46.845 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 11:10:46.845 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 11:10:46.847 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 11:10:46.856 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 11:10:46.872 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 11:10:46.875 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 11:10:46.878 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 11:10:46.879 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 11:10:46.882 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 11:10:46.884 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 11:10:46.902 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 11:10:46.904 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 11:10:46.907 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 11:10:46.908 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 11:10:46.914 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 11:10:47.515 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 11:10:47.520 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 11:10:47.646 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05 11:10:48.896 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 11:10:48.899 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 11:10:49.433 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 11:10:49.438 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.463 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 11:10:49.465 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.466 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 11:10:49.467 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.494 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 11:10:49.497 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.498 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 11:10:49.501 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.503 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 11:10:49.503 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.532 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 11:10:49.533 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.535 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 11:10:49.536 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 11:10:49.627 [restartedMain] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tracingService' defined in file [C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes\com\deliverytech\delivery_api\service\TracingService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'brave.Tracer' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-11-05 11:10:49.628 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 11:10:49.630 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 11:10:49.634 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 11:10:49.636 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 11:10:49.638 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 11:10:49.640 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 11:10:49.641 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 11:10:49.656 [restartedMain] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 11:10:49.657 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-05 11:10:49.663 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-05 11:10:49.672 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-05 11:10:49.712 [restartedMain] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-05 11:10:49.771 [restartedMain] ERROR [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.deliverytech.delivery_api.service.TracingService required a bean of type 'brave.Tracer' that could not be found.


Action:

Consider defining a bean of type 'brave.Tracer' in your configuration.

2025-11-05 11:27:59.896 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34856 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 11:27:59.900 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 11:27:59.903 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 11:27:59.983 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05 11:27:59.984 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05 11:28:02.560 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 11:28:02.695 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 5 JPA repository interfaces.
2025-11-05 11:28:03.824 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 11:28:03.843 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 11:28:03.846 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 11:28:03.848 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 11:28:03.931 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 11:28:03.933 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3948 ms
2025-11-05 11:28:05.007 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 11:28:05.056 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-05 11:28:05.306 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 11:28:05.308 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-05 11:28:05.343 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 11:28:06.744 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 11:28:06.750 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 11:28:06.751 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 11:28:06.752 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 11:28:06.753 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 11:28:06.753 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 11:28:06.762 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 11:28:06.773 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 11:28:06.776 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 11:28:06.778 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 11:28:06.780 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 11:28:06.783 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 11:28:06.787 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 11:28:06.800 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 11:28:06.802 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 11:28:06.804 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 11:28:06.806 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 11:28:06.812 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 11:28:07.300 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 11:28:07.304 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 11:28:07.416 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05 11:28:08.235 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 11:28:08.236 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 11:28:08.607 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 11:28:08.612 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.627 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 11:28:08.627 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.628 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 11:28:08.628 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.646 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 11:28:08.647 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.648 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 11:28:08.651 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.652 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 11:28:08.652 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.675 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 11:28:08.677 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:08.678 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 11:28:08.678 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 11:28:09.144 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 11:28:09.317 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 11:28:09.532 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 11:28:09.785 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 11:28:09.926 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 11:28:10.034 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 11:28:10.356 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 11:28:10.466 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 11:28:10.557 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 11:28:10.602 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 11:28:10.620 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 11.444 seconds (process running for 11.935)
2025-11-05 11:28:10.772 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 11:28:10.845 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 11:28:10.851 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 11:28:10.857 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 11:28:10.976 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 11:28:11.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 11:28:11.015 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 11:28:11.025 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 11:28:11.041 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 11:28:11.048 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 11:28:11.054 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 12:05:25.802 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 12:05:25.815 [Thread-5] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 12:05:25.818 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:05:25.872 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 12:05:25.872 [Thread-5] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 12:05:25.879 [Thread-5] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:05:25.882 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:05:25.885 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:05:25.887 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:05:25.888 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:05:25.889 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:05:25.889 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:05:25.902 [Thread-5] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 12:05:25.903 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-05 12:05:25.905 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-05 12:05:26.024 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34856 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 12:05:26.025 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 12:05:26.026 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 12:05:26.529 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 12:05:26.564 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 5 JPA repository interfaces.
2025-11-05 12:05:26.696 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 12:05:26.696 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:05:26.696 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 12:05:26.696 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 12:05:26.719 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 12:05:26.719 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 690 ms
2025-11-05 12:05:26.813 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 12:05:26.825 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-05 12:05:26.825 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn20: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 12:05:26.828 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-05 12:05:26.829 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 12:05:27.001 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 12:05:27.013 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 12:05:27.015 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 12:05:27.017 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 12:05:27.020 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 12:05:27.021 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 12:05:27.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 12:05:27.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:05:27.028 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:05:27.031 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:05:27.089 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 12:05:27.089 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 12:05:27.170 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 12:05:27.171 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 12:05:27.250 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 12:05:27.251 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.253 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 12:05:27.253 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.253 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 12:05:27.253 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.268 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 12:05:27.268 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.268 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 12:05:27.270 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.270 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 12:05:27.270 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.286 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:05:27.286 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.286 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:05:27.292 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 12:05:27.347 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 12:05:27.395 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 12:05:27.433 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 12:05:27.464 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 12:05:27.485 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 12:05:27.496 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 12:05:27.536 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 12:05:27.559 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 12:05:27.564 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 12:05:27.576 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 12:05:27.582 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.598 seconds (process running for 2248.9)
2025-11-05 12:05:27.590 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:05:27.595 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:05:27.599 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:05:27.602 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:05:27.622 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 12:05:27.634 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 12:05:27.638 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 12:05:27.640 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 12:05:27.648 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 12:05:27.652 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 12:05:27.653 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 12:05:27.660 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 12:11:24.204 [http-nio-8080-exec-2] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 12:11:24.205 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 12:11:24.206 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 12:11:24.206 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 12:11:24.206 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 12:11:24.208 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@61c8c4cb
2025-11-05 12:11:24.208 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7f24f5e0
2025-11-05 12:11:24.209 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 12:11:24.209 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-05 12:11:24.239 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-11-05 12:11:24.254 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:11:24.258 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:11:24.269 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-11-05 12:11:24.317 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.web.servlet.DispatcherServlet - GET "/actuator/health", parameters={}
2025-11-05 12:11:24.480 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.web.client.RestTemplate - HTTP GET https://httpbin.org/status/200
2025-11-05 12:11:24.485 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-11-05 12:11:25.397 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-05 12:11:25.416 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-11-05 12:11:25.459 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.springframework.boot.actuate.health.SystemHealth@1a22f157]
2025-11-05 12:11:25.493 [http-nio-8080-exec-2] DEBUG [f7eea8b5693d40df] o.s.web.servlet.DispatcherServlet - Completed 503 SERVICE_UNAVAILABLE
2025-11-05 12:12:33.554 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-11-05 12:12:33.557 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:12:33.559 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:12:33.563 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-11-05 12:12:33.564 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.web.servlet.DispatcherServlet - GET "/actuator/health", parameters={}
2025-11-05 12:12:33.566 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.web.client.RestTemplate - HTTP GET https://httpbin.org/status/200
2025-11-05 12:12:33.566 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-11-05 12:12:42.895 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.web.client.RestTemplate - Response 200 OK
2025-11-05 12:12:42.901 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-11-05 12:12:42.901 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.springframework.boot.actuate.health.SystemHealth@1a112b0a]
2025-11-05 12:12:42.904 [http-nio-8080-exec-4] DEBUG [4fdc15f644fa40c9] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:15:52.358 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-11-05 12:15:52.361 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:15:52.363 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:15:52.369 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:15:52.386 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:15:52.388 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:15:52.389 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:16:06.810 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-11-05 12:16:06.811 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:16:06.812 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:16:06.813 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:16:06.816 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:16:06.817 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:16:06.819 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:16:32.989 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics
2025-11-05 12:16:32.991 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:16:32.991 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:16:32.992 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:16:32.996 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:16:32.997 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:16:32.997 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:20:45.676 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 12:20:45.676 [Thread-7] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 12:20:45.676 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:20:45.717 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 12:20:45.717 [Thread-7] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 12:20:45.717 [Thread-7] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:20:45.717 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:20:45.725 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:20:45.725 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:20:45.725 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:20:45.725 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:20:45.727 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:20:45.729 [Thread-7] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 12:20:45.729 [Thread-7] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-05 12:20:45.730 [Thread-7] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-05 12:20:45.832 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34856 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 12:20:45.833 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 12:20:45.833 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 12:20:46.410 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 12:20:46.448 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 5 JPA repository interfaces.
2025-11-05 12:20:46.543 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 12:20:46.544 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:20:46.544 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 12:20:46.544 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 12:20:46.568 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 12:20:46.568 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 733 ms
2025-11-05 12:20:46.651 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 12:20:46.652 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-05 12:20:46.655 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn30: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 12:20:46.655 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-05 12:20:46.656 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:20:46.795 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 12:20:46.802 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 12:20:46.805 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 12:20:46.806 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 12:20:46.807 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 12:20:46.808 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 12:20:46.809 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 12:20:46.810 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 12:20:46.812 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 12:20:46.815 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:20:46.817 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:20:46.819 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:20:46.879 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 12:20:46.879 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 12:20:46.946 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 12:20:46.946 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 12:20:47.013 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 12:20:47.013 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.013 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 12:20:47.013 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.013 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 12:20:47.013 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.030 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 12:20:47.031 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.032 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 12:20:47.032 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.033 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 12:20:47.033 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.047 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:20:47.048 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.049 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:20:47.049 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 12:20:47.120 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 12:20:47.148 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 12:20:47.203 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 12:20:47.229 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 12:20:47.247 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 12:20:47.254 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 12:20:47.284 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 12:20:47.298 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 12:20:47.311 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 12:20:47.314 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 12:20:47.324 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.542 seconds (process running for 3168.64)
2025-11-05 12:20:47.331 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:20:47.335 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:20:47.340 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:20:47.340 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:20:47.362 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 12:20:47.366 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 12:20:47.371 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 12:20:47.375 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 12:20:47.380 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 12:20:47.383 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 12:20:47.385 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 12:20:47.389 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 12:20:58.885 [http-nio-8080-exec-2] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 12:20:58.885 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 12:20:58.885 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 12:20:58.885 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 12:20:58.886 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 12:20:58.887 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7fe1a560
2025-11-05 12:20:58.888 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3cd23d80
2025-11-05 12:20:58.888 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 12:20:58.888 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-05 12:20:58.890 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/metrics
2025-11-05 12:20:58.892 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:20:58.893 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:20:58.897 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/metrics
2025-11-05 12:20:58.899 [http-nio-8080-exec-2] DEBUG [b8404c6cb3bb497d] o.s.web.servlet.DispatcherServlet - GET "/actuator/metrics", parameters={}
2025-11-05 12:20:58.904 [http-nio-8080-exec-2] DEBUG [b8404c6cb3bb497d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-11-05 12:20:58.906 [http-nio-8080-exec-2] DEBUG [b8404c6cb3bb497d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [org.springframework.boot.actuate.metrics.MetricsEndpoint$MetricNamesDescriptor@11797e9e]
2025-11-05 12:20:58.909 [http-nio-8080-exec-2] DEBUG [b8404c6cb3bb497d] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:22:17.273 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/info
2025-11-05 12:22:17.274 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:22:17.275 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:22:17.277 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/info
2025-11-05 12:22:17.278 [http-nio-8080-exec-5] DEBUG [4ca6099350e14c09] o.s.web.servlet.DispatcherServlet - GET "/actuator/info", parameters={}
2025-11-05 12:22:17.283 [http-nio-8080-exec-5] DEBUG [4ca6099350e14c09] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-11-05 12:22:17.285 [http-nio-8080-exec-5] DEBUG [4ca6099350e14c09] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{app={name=Delivery API REST, description=API REST para sistema de delivery com observabilidade, ver (truncated)...]
2025-11-05 12:22:17.288 [http-nio-8080-exec-5] DEBUG [4ca6099350e14c09] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:25:25.708 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/prometheus
2025-11-05 12:25:25.710 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:25:25.712 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:25:25.715 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/prometheus
2025-11-05 12:25:25.716 [http-nio-8080-exec-8] DEBUG [f3b4ebe9f61f4933] o.s.web.servlet.DispatcherServlet - GET "/actuator/prometheus", parameters={}
2025-11-05 12:25:26.567 [http-nio-8080-exec-8] DEBUG [f3b4ebe9f61f4933] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:text/plain;version=0.0.4;charset=utf-8' in response
2025-11-05 12:25:26.584 [http-nio-8080-exec-8] DEBUG [f3b4ebe9f61f4933] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{35, 32, 72, 69, 76, 80, 32, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 95, 114, 101, 97, 1 (truncated)...]
2025-11-05 12:25:26.587 [http-nio-8080-exec-8] DEBUG [f3b4ebe9f61f4933] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:34:15.376 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:34:15.377 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:34:15.377 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:34:15.383 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:34:15.385 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:34:15.387 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:34:15.388 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:35:20.408 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 12:35:20.411 [Thread-12] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 12:35:20.411 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:35:20.448 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 12:35:20.448 [Thread-12] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 12:35:20.450 [Thread-12] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:35:20.450 [Thread-12] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:35:20.450 [Thread-12] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:35:20.450 [Thread-12] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:35:20.450 [Thread-12] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:35:20.450 [Thread-12] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:35:20.450 [Thread-12] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:35:20.450 [Thread-12] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 12:35:20.454 [Thread-12] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-05 12:35:20.455 [Thread-12] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-05 12:35:20.538 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34856 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 12:35:20.538 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 12:35:20.539 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 12:35:21.193 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 12:35:21.347 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 5 JPA repository interfaces.
2025-11-05 12:35:21.420 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 12:35:21.420 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:35:21.420 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 12:35:21.420 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 12:35:21.445 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 12:35:21.445 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 905 ms
2025-11-05 12:35:21.513 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 12:35:21.513 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-05 12:35:21.513 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn40: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 12:35:21.526 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-05 12:35:21.527 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 12:35:21.703 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:35:21.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:35:21.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:35:21.705 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:35:21.705 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:35:21.705 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:35:21.706 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 12:35:21.708 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 12:35:21.710 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 12:35:21.711 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 12:35:21.712 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 12:35:21.714 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 12:35:21.715 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 12:35:21.715 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 12:35:21.737 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 12:35:21.742 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:35:21.745 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:35:21.750 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:35:21.793 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 12:35:21.793 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 12:35:21.876 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 12:35:21.877 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 12:35:21.993 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 12:35:22.009 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.012 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 12:35:22.012 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.013 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 12:35:22.013 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.044 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 12:35:22.046 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.047 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 12:35:22.048 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.048 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 12:35:22.048 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.080 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:35:22.081 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.081 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:35:22.082 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 12:35:22.147 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 12:35:22.169 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 12:35:22.200 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 12:35:22.217 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 12:35:22.227 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 12:35:22.248 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 12:35:22.276 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 12:35:22.293 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 12:35:22.300 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 12:35:22.308 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 12:35:22.315 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.804 seconds (process running for 4043.63)
2025-11-05 12:35:22.319 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:35:22.321 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:35:22.325 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:35:22.329 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:35:22.346 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 12:35:22.349 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 12:35:22.353 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 12:35:22.357 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 12:35:22.360 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 12:35:22.362 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 12:35:22.368 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 12:35:22.370 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 12:35:26.028 [http-nio-8080-exec-1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 12:35:26.029 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 12:35:26.029 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 12:35:26.030 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 12:35:26.030 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 12:35:26.031 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@901f1cc
2025-11-05 12:35:26.032 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@13d66a28
2025-11-05 12:35:26.032 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 12:35:26.032 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-05 12:35:26.034 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:35:26.034 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:35:26.037 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:35:26.039 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:35:26.041 [http-nio-8080-exec-1] DEBUG [e5961959edd44a11] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:35:26.041 [http-nio-8080-exec-1] DEBUG [e5961959edd44a11] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:35:26.049 [http-nio-8080-exec-1] DEBUG [e5961959edd44a11] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:35:26.049 [http-nio-8080-exec-1] DEBUG [e5961959edd44a11] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:35:26.055 [http-nio-8080-exec-1] DEBUG [e5961959edd44a11] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:35:26.120 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:35:26.120 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:35:26.122 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:35:26.125 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:35:26.128 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:35:26.130 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:35:26.130 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:36:57.590 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:36:57.591 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:36:57.591 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:36:57.592 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:36:57.593 [http-nio-8080-exec-6] DEBUG [bfcd3996abd54c34] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:36:57.593 [http-nio-8080-exec-6] DEBUG [bfcd3996abd54c34] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:36:57.596 [http-nio-8080-exec-6] DEBUG [bfcd3996abd54c34] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:36:57.596 [http-nio-8080-exec-6] DEBUG [bfcd3996abd54c34] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:36:57.596 [http-nio-8080-exec-6] DEBUG [bfcd3996abd54c34] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:37:35.282 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-11-05 12:37:35.283 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:37:35.283 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:37:35.284 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-11-05 12:37:35.284 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.web.servlet.DispatcherServlet - GET "/actuator/health", parameters={}
2025-11-05 12:37:35.286 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.web.client.RestTemplate - HTTP GET https://httpbin.org/status/200
2025-11-05 12:37:35.286 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-11-05 12:37:50.476 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.web.client.RestTemplate - Response 200 OK
2025-11-05 12:37:50.478 [http-nio-8080-exec-8] WARN  [bae62180b6714fb3] o.s.b.a.health.HealthEndpointSupport - Health contributor com.deliverytech.delivery_api.health.ExternalServiceHealthIndicator (externalService) took 15190ms to respond
2025-11-05 12:37:50.480 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-11-05 12:37:50.482 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.springframework.boot.actuate.health.SystemHealth@77077fbf]
2025-11-05 12:37:50.484 [http-nio-8080-exec-8] DEBUG [bae62180b6714fb3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:39:37.249 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:39:37.250 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:39:37.251 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:39:37.251 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:39:37.253 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:39:37.255 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:39:37.256 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:41:47.207 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 12:41:47.207 [Thread-16] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 12:41:47.209 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:41:47.260 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 12:41:47.260 [Thread-16] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 12:41:47.260 [Thread-16] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:41:47.260 [Thread-16] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:41:47.260 [Thread-16] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:41:47.260 [Thread-16] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:41:47.260 [Thread-16] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:41:47.260 [Thread-16] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:41:47.267 [Thread-16] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:41:47.268 [Thread-16] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 12:41:47.268 [Thread-16] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-05 12:41:47.269 [Thread-16] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-05 12:41:47.353 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34856 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 12:41:47.353 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 12:41:47.354 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 12:41:47.711 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 12:41:47.733 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2025-11-05 12:41:47.793 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 12:41:47.793 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 12:41:47.793 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 12:41:47.793 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 12:41:47.816 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 12:41:47.821 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 465 ms
2025-11-05 12:41:47.909 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 12:41:47.909 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-05 12:41:47.911 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn50: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 12:41:47.912 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-05 12:41:47.912 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 12:41:48.017 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 12:41:48.017 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 12:41:48.018 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 12:41:48.018 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 12:41:48.019 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 12:41:48.019 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 12:41:48.020 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 12:41:48.021 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 12:41:48.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 12:41:48.025 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 12:41:48.026 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 12:41:48.028 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 12:41:48.029 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 12:41:48.031 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 12:41:48.031 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 12:41:48.031 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:41:48.031 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 12:41:48.037 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 12:41:48.082 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 12:41:48.082 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 12:41:48.161 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 12:41:48.162 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 12:41:48.199 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 12:41:48.199 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.199 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 12:41:48.199 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.199 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 12:41:48.199 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.216 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 12:41:48.216 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.216 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 12:41:48.216 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.216 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 12:41:48.218 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.226 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:41:48.227 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.227 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 12:41:48.228 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 12:41:48.266 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 12:41:48.283 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 12:41:48.310 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 12:41:48.346 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 12:41:48.365 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 12:41:48.371 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 12:41:48.400 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 12:41:48.409 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 12:41:48.420 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 12:41:48.424 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 12:41:48.428 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.115 seconds (process running for 4429.744)
2025-11-05 12:41:48.432 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:41:48.435 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 12:41:48.439 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:41:48.440 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 12:41:48.444 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 12:41:48.460 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 12:41:48.464 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 12:41:48.464 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 12:41:48.471 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 12:41:48.474 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 12:41:48.478 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 12:41:48.482 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 12:41:54.010 [http-nio-8080-exec-1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 12:41:54.011 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 12:41:54.011 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 12:41:54.011 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 12:41:54.011 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 12:41:54.012 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6b35e2eb
2025-11-05 12:41:54.013 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@53182b12
2025-11-05 12:41:54.013 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 12:41:54.013 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-05 12:41:54.014 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:41:54.015 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:41:54.016 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:41:54.017 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:41:54.019 [http-nio-8080-exec-1] DEBUG [a473b6691b124aa3] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:41:54.020 [http-nio-8080-exec-1] DEBUG [a473b6691b124aa3] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:41:54.031 [http-nio-8080-exec-1] DEBUG [a473b6691b124aa3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:41:54.652 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:41:54.653 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:41:54.653 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:41:54.655 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:41:54.656 [http-nio-8080-exec-2] DEBUG [550996e1f58e483f] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:41:54.656 [http-nio-8080-exec-2] DEBUG [550996e1f58e483f] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:41:54.660 [http-nio-8080-exec-2] DEBUG [550996e1f58e483f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:41:54.661 [http-nio-8080-exec-2] DEBUG [550996e1f58e483f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:41:54.664 [http-nio-8080-exec-2] DEBUG [550996e1f58e483f] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:41:54.672 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:41:54.673 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:41:54.673 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:41:54.677 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:41:54.681 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:41:54.683 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:41:54.684 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:41:59.667 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:41:59.667 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:41:59.670 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:41:59.670 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:41:59.671 [http-nio-8080-exec-4] DEBUG [0cfe6d36204d4850] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:41:59.672 [http-nio-8080-exec-4] DEBUG [0cfe6d36204d4850] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:41:59.672 [http-nio-8080-exec-4] DEBUG [0cfe6d36204d4850] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:41:59.672 [http-nio-8080-exec-4] DEBUG [0cfe6d36204d4850] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:41:59.674 [http-nio-8080-exec-4] DEBUG [0cfe6d36204d4850] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [ef0ca4a9b7354eb0] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [ef0ca4a9b7354eb0] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [ef0ca4a9b7354eb0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [ef0ca4a9b7354eb0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:04.660 [http-nio-8080-exec-5] DEBUG [ef0ca4a9b7354eb0] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [ad40e73abad64a63] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [ad40e73abad64a63] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [ad40e73abad64a63] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [ad40e73abad64a63] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:09.652 [http-nio-8080-exec-6] DEBUG [ad40e73abad64a63] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:14.663 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:14.663 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:14.663 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:14.666 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:14.666 [http-nio-8080-exec-7] DEBUG [54e6a97b766b4e1c] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:14.666 [http-nio-8080-exec-7] DEBUG [54e6a97b766b4e1c] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:14.666 [http-nio-8080-exec-7] DEBUG [54e6a97b766b4e1c] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:14.666 [http-nio-8080-exec-7] DEBUG [54e6a97b766b4e1c] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:14.666 [http-nio-8080-exec-7] DEBUG [54e6a97b766b4e1c] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [cfff76f26b88497a] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [cfff76f26b88497a] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [cfff76f26b88497a] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [cfff76f26b88497a] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:19.657 [http-nio-8080-exec-8] DEBUG [cfff76f26b88497a] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:24.656 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:24.656 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:24.656 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:24.662 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:24.662 [http-nio-8080-exec-9] DEBUG [939a250e43754aa5] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:24.662 [http-nio-8080-exec-9] DEBUG [939a250e43754aa5] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:24.662 [http-nio-8080-exec-9] DEBUG [939a250e43754aa5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:24.662 [http-nio-8080-exec-9] DEBUG [939a250e43754aa5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:24.662 [http-nio-8080-exec-9] DEBUG [939a250e43754aa5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:29.659 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] DEBUG [f4090abff9354e3f] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] DEBUG [f4090abff9354e3f] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] DEBUG [f4090abff9354e3f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:29.661 [http-nio-8080-exec-10] DEBUG [f4090abff9354e3f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:29.666 [http-nio-8080-exec-10] DEBUG [f4090abff9354e3f] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:34.654 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:34.659 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:34.659 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:34.660 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:34.660 [http-nio-8080-exec-1] DEBUG [66c72fb9c68e4ce1] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:34.660 [http-nio-8080-exec-1] DEBUG [66c72fb9c68e4ce1] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:34.660 [http-nio-8080-exec-1] DEBUG [66c72fb9c68e4ce1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:34.660 [http-nio-8080-exec-1] DEBUG [66c72fb9c68e4ce1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:34.660 [http-nio-8080-exec-1] DEBUG [66c72fb9c68e4ce1] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:39.662 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:39.662 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:39.662 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:39.662 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:39.662 [http-nio-8080-exec-2] DEBUG [2931e90181714787] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:39.662 [http-nio-8080-exec-2] DEBUG [2931e90181714787] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:39.666 [http-nio-8080-exec-2] DEBUG [2931e90181714787] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:39.666 [http-nio-8080-exec-2] DEBUG [2931e90181714787] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:39.666 [http-nio-8080-exec-2] DEBUG [2931e90181714787] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [1b9b3ee4ce304cdd] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [1b9b3ee4ce304cdd] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [1b9b3ee4ce304cdd] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [1b9b3ee4ce304cdd] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:44.655 [http-nio-8080-exec-3] DEBUG [1b9b3ee4ce304cdd] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:49.661 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:49.662 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:49.662 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:49.663 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:49.664 [http-nio-8080-exec-4] DEBUG [7a9aef97020547ff] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:49.664 [http-nio-8080-exec-4] DEBUG [7a9aef97020547ff] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:49.665 [http-nio-8080-exec-4] DEBUG [7a9aef97020547ff] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:49.666 [http-nio-8080-exec-4] DEBUG [7a9aef97020547ff] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:49.667 [http-nio-8080-exec-4] DEBUG [7a9aef97020547ff] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:54.735 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:54.741 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:54.741 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:54.741 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:54.741 [http-nio-8080-exec-6] DEBUG [1b3506274c36436e] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:54.741 [http-nio-8080-exec-6] DEBUG [1b3506274c36436e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:54.744 [http-nio-8080-exec-6] DEBUG [1b3506274c36436e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:54.744 [http-nio-8080-exec-6] DEBUG [1b3506274c36436e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:54.744 [http-nio-8080-exec-6] DEBUG [1b3506274c36436e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [7ecc631c2fd94608] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [7ecc631c2fd94608] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [7ecc631c2fd94608] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:42:59.747 [http-nio-8080-exec-7] DEBUG [7ecc631c2fd94608] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:42:59.757 [http-nio-8080-exec-7] DEBUG [7ecc631c2fd94608] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:04.746 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:04.746 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:04.746 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:04.746 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:04.746 [http-nio-8080-exec-8] DEBUG [3f6b47dea3bb4614] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:04.755 [http-nio-8080-exec-8] DEBUG [3f6b47dea3bb4614] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:04.756 [http-nio-8080-exec-8] DEBUG [3f6b47dea3bb4614] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:04.756 [http-nio-8080-exec-8] DEBUG [3f6b47dea3bb4614] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:04.758 [http-nio-8080-exec-8] DEBUG [3f6b47dea3bb4614] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:09.741 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [5fe6902ad7e84638] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [5fe6902ad7e84638] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [5fe6902ad7e84638] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [5fe6902ad7e84638] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:09.743 [http-nio-8080-exec-9] DEBUG [5fe6902ad7e84638] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:14.737 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [8884c88e48db4301] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [8884c88e48db4301] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [8884c88e48db4301] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [8884c88e48db4301] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:14.739 [http-nio-8080-exec-10] DEBUG [8884c88e48db4301] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [9e721229701c49f1] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [9e721229701c49f1] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [9e721229701c49f1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [9e721229701c49f1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:19.747 [http-nio-8080-exec-1] DEBUG [9e721229701c49f1] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:24.737 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:24.738 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:24.738 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:24.739 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:24.741 [http-nio-8080-exec-2] DEBUG [c920b391e5fc43e2] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:24.741 [http-nio-8080-exec-2] DEBUG [c920b391e5fc43e2] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:24.743 [http-nio-8080-exec-2] DEBUG [c920b391e5fc43e2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:24.744 [http-nio-8080-exec-2] DEBUG [c920b391e5fc43e2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:24.744 [http-nio-8080-exec-2] DEBUG [c920b391e5fc43e2] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:29.737 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:29.737 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:29.737 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:29.739 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:29.739 [http-nio-8080-exec-3] DEBUG [7974d4e04bd64932] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:29.739 [http-nio-8080-exec-3] DEBUG [7974d4e04bd64932] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:29.739 [http-nio-8080-exec-3] DEBUG [7974d4e04bd64932] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:29.739 [http-nio-8080-exec-3] DEBUG [7974d4e04bd64932] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:29.743 [http-nio-8080-exec-3] DEBUG [7974d4e04bd64932] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:34.742 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:34.742 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:34.742 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:34.742 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:34.742 [http-nio-8080-exec-4] DEBUG [1242ca567c934c71] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:34.742 [http-nio-8080-exec-4] DEBUG [1242ca567c934c71] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:34.749 [http-nio-8080-exec-4] DEBUG [1242ca567c934c71] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:34.749 [http-nio-8080-exec-4] DEBUG [1242ca567c934c71] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:34.749 [http-nio-8080-exec-4] DEBUG [1242ca567c934c71] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [9c70c74549bd4abe] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [9c70c74549bd4abe] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [9c70c74549bd4abe] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [9c70c74549bd4abe] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:39.746 [http-nio-8080-exec-5] DEBUG [9c70c74549bd4abe] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:44.737 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:44.742 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:44.742 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:44.742 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:44.742 [http-nio-8080-exec-6] DEBUG [7adaad9f8a594cb3] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:44.742 [http-nio-8080-exec-6] DEBUG [7adaad9f8a594cb3] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:44.744 [http-nio-8080-exec-6] DEBUG [7adaad9f8a594cb3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:44.744 [http-nio-8080-exec-6] DEBUG [7adaad9f8a594cb3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:44.746 [http-nio-8080-exec-6] DEBUG [7adaad9f8a594cb3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [00dacc2198ea46d7] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [00dacc2198ea46d7] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [00dacc2198ea46d7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [00dacc2198ea46d7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:43:49.744 [http-nio-8080-exec-7] DEBUG [00dacc2198ea46d7] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:10.492 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:10.494 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:10.496 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:10.498 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:10.499 [http-nio-8080-exec-8] DEBUG [fd010646c2b845d5] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:10.501 [http-nio-8080-exec-8] DEBUG [fd010646c2b845d5] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:10.503 [http-nio-8080-exec-8] DEBUG [fd010646c2b845d5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:10.504 [http-nio-8080-exec-8] DEBUG [fd010646c2b845d5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:10.505 [http-nio-8080-exec-8] DEBUG [fd010646c2b845d5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:13.975 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:44:13.975 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:13.975 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:13.975 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:44:13.975 [http-nio-8080-exec-9] DEBUG [c15789a05f024415] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:44:13.975 [http-nio-8080-exec-9] DEBUG [c15789a05f024415] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:44:13.993 [http-nio-8080-exec-9] DEBUG [c15789a05f024415] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:14.060 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:14.061 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:14.061 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:14.063 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:14.063 [http-nio-8080-exec-10] DEBUG [ad3dfe3996504602] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:14.064 [http-nio-8080-exec-10] DEBUG [ad3dfe3996504602] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:14.065 [http-nio-8080-exec-10] DEBUG [ad3dfe3996504602] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:14.065 [http-nio-8080-exec-10] DEBUG [ad3dfe3996504602] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:14.066 [http-nio-8080-exec-10] DEBUG [ad3dfe3996504602] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:14.069 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:44:14.070 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:14.071 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:14.071 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:44:14.071 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:44:14.071 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:14.071 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] DEBUG [f45892eb874d409a] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] DEBUG [f45892eb874d409a] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:19.059 [http-nio-8080-exec-2] DEBUG [f45892eb874d409a] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:19.067 [http-nio-8080-exec-2] DEBUG [f45892eb874d409a] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:19.067 [http-nio-8080-exec-2] DEBUG [f45892eb874d409a] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [48e8bdc21ae44153] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [48e8bdc21ae44153] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [48e8bdc21ae44153] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [48e8bdc21ae44153] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:24.057 [http-nio-8080-exec-3] DEBUG [48e8bdc21ae44153] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [7b952df05adc4ae5] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [7b952df05adc4ae5] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [7b952df05adc4ae5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [7b952df05adc4ae5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:29.059 [http-nio-8080-exec-4] DEBUG [7b952df05adc4ae5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:34.069 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:34.069 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:34.069 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:34.069 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:34.069 [http-nio-8080-exec-5] DEBUG [02f64066b82d4f47] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:34.069 [http-nio-8080-exec-5] DEBUG [02f64066b82d4f47] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:34.077 [http-nio-8080-exec-5] DEBUG [02f64066b82d4f47] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:34.077 [http-nio-8080-exec-5] DEBUG [02f64066b82d4f47] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:34.077 [http-nio-8080-exec-5] DEBUG [02f64066b82d4f47] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [7856aaed16cf4f3d] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [7856aaed16cf4f3d] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [7856aaed16cf4f3d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [7856aaed16cf4f3d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:39.060 [http-nio-8080-exec-6] DEBUG [7856aaed16cf4f3d] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [09b91baa138647e3] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [09b91baa138647e3] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [09b91baa138647e3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [09b91baa138647e3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:44.069 [http-nio-8080-exec-7] DEBUG [09b91baa138647e3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [4765e79caf864764] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [4765e79caf864764] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [4765e79caf864764] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [4765e79caf864764] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:49.057 [http-nio-8080-exec-8] DEBUG [4765e79caf864764] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:54.076 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:54.077 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:54.077 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:54.078 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:54.078 [http-nio-8080-exec-9] DEBUG [510b7a0d33d448a3] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:54.078 [http-nio-8080-exec-9] DEBUG [510b7a0d33d448a3] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:54.079 [http-nio-8080-exec-9] DEBUG [510b7a0d33d448a3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:54.079 [http-nio-8080-exec-9] DEBUG [510b7a0d33d448a3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:54.080 [http-nio-8080-exec-9] DEBUG [510b7a0d33d448a3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [923adb1ddb274776] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [923adb1ddb274776] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [923adb1ddb274776] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [923adb1ddb274776] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:44:59.070 [http-nio-8080-exec-10] DEBUG [923adb1ddb274776] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:04.059 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:04.059 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:04.059 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:04.063 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:04.063 [http-nio-8080-exec-1] DEBUG [41f724c5ffff4f30] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:04.063 [http-nio-8080-exec-1] DEBUG [41f724c5ffff4f30] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:04.063 [http-nio-8080-exec-1] DEBUG [41f724c5ffff4f30] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:04.063 [http-nio-8080-exec-1] DEBUG [41f724c5ffff4f30] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:04.063 [http-nio-8080-exec-1] DEBUG [41f724c5ffff4f30] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [80a37b85cdc04cc3] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [80a37b85cdc04cc3] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [80a37b85cdc04cc3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [80a37b85cdc04cc3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:09.070 [http-nio-8080-exec-2] DEBUG [80a37b85cdc04cc3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:14.061 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:14.062 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:14.062 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:14.063 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:14.063 [http-nio-8080-exec-3] DEBUG [7d1157a0749542c6] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:14.063 [http-nio-8080-exec-3] DEBUG [7d1157a0749542c6] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:14.064 [http-nio-8080-exec-3] DEBUG [7d1157a0749542c6] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:14.064 [http-nio-8080-exec-3] DEBUG [7d1157a0749542c6] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:14.065 [http-nio-8080-exec-3] DEBUG [7d1157a0749542c6] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:17.417 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:45:17.417 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:17.417 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:17.418 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:45:17.418 [http-nio-8080-exec-5] DEBUG [69e79b59e93846e9] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:45:17.419 [http-nio-8080-exec-5] DEBUG [69e79b59e93846e9] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:45:17.424 [http-nio-8080-exec-5] DEBUG [69e79b59e93846e9] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:17.461 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:17.461 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:17.461 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:17.461 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:45:17.461 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:17.461 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:17.461 [http-nio-8080-exec-6] DEBUG [f46c6a70ba4f4fe0] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:17.461 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:17.469 [http-nio-8080-exec-6] DEBUG [f46c6a70ba4f4fe0] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:17.469 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:45:17.470 [http-nio-8080-exec-6] DEBUG [f46c6a70ba4f4fe0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:17.471 [http-nio-8080-exec-6] DEBUG [f46c6a70ba4f4fe0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:17.471 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:45:17.471 [http-nio-8080-exec-6] DEBUG [f46c6a70ba4f4fe0] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:17.472 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:17.473 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [099e905a8e9540c8] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [099e905a8e9540c8] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [099e905a8e9540c8] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [099e905a8e9540c8] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:22.464 [http-nio-8080-exec-8] DEBUG [099e905a8e9540c8] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [a289c3de2b514c38] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [a289c3de2b514c38] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [a289c3de2b514c38] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [a289c3de2b514c38] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:27.459 [http-nio-8080-exec-9] DEBUG [a289c3de2b514c38] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:30.759 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:45:30.759 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:30.759 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:30.759 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:45:30.759 [http-nio-8080-exec-10] DEBUG [e2b409a0cb994ef3] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:45:30.759 [http-nio-8080-exec-10] DEBUG [e2b409a0cb994ef3] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:45:30.776 [http-nio-8080-exec-10] DEBUG [e2b409a0cb994ef3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:30.808 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:30.808 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:30.809 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:30.810 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:30.811 [http-nio-8080-exec-1] DEBUG [8fee8753035a4764] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:30.811 [http-nio-8080-exec-1] DEBUG [8fee8753035a4764] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:30.812 [http-nio-8080-exec-1] DEBUG [8fee8753035a4764] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:30.812 [http-nio-8080-exec-1] DEBUG [8fee8753035a4764] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:30.812 [http-nio-8080-exec-1] DEBUG [8fee8753035a4764] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:30.822 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:45:30.823 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:30.823 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:30.824 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:45:30.826 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:45:30.828 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:30.828 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:45:35.803 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:35.803 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:35.803 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:35.808 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:35.808 [http-nio-8080-exec-3] DEBUG [6e1d7e0814a140db] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:35.809 [http-nio-8080-exec-3] DEBUG [6e1d7e0814a140db] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:35.810 [http-nio-8080-exec-3] DEBUG [6e1d7e0814a140db] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:35.811 [http-nio-8080-exec-3] DEBUG [6e1d7e0814a140db] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:35.812 [http-nio-8080-exec-3] DEBUG [6e1d7e0814a140db] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:40.804 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:40.805 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:40.806 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:40.806 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:40.807 [http-nio-8080-exec-4] DEBUG [23b05192513d45d4] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:40.807 [http-nio-8080-exec-4] DEBUG [23b05192513d45d4] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:40.808 [http-nio-8080-exec-4] DEBUG [23b05192513d45d4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:40.809 [http-nio-8080-exec-4] DEBUG [23b05192513d45d4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:40.809 [http-nio-8080-exec-4] DEBUG [23b05192513d45d4] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:45.806 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:45.806 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:45.806 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:45.807 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:45.807 [http-nio-8080-exec-5] DEBUG [ada192b558d14281] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:45.807 [http-nio-8080-exec-5] DEBUG [ada192b558d14281] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:45.809 [http-nio-8080-exec-5] DEBUG [ada192b558d14281] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:45.809 [http-nio-8080-exec-5] DEBUG [ada192b558d14281] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:45.810 [http-nio-8080-exec-5] DEBUG [ada192b558d14281] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:50.809 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:50.809 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:50.809 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:50.810 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:50.810 [http-nio-8080-exec-6] DEBUG [cb2842daf8844ce9] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:50.811 [http-nio-8080-exec-6] DEBUG [cb2842daf8844ce9] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:50.811 [http-nio-8080-exec-6] DEBUG [cb2842daf8844ce9] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:50.812 [http-nio-8080-exec-6] DEBUG [cb2842daf8844ce9] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:50.813 [http-nio-8080-exec-6] DEBUG [cb2842daf8844ce9] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:45:55.806 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:45:55.807 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:45:55.807 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:45:55.808 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:45:55.809 [http-nio-8080-exec-7] DEBUG [2b8bb18ecf354204] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:45:55.809 [http-nio-8080-exec-7] DEBUG [2b8bb18ecf354204] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:45:55.810 [http-nio-8080-exec-7] DEBUG [2b8bb18ecf354204] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:45:55.810 [http-nio-8080-exec-7] DEBUG [2b8bb18ecf354204] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:45:55.811 [http-nio-8080-exec-7] DEBUG [2b8bb18ecf354204] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:00.819 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:00.820 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:00.820 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:00.821 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:00.821 [http-nio-8080-exec-8] DEBUG [279ff2c03efd423f] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:00.821 [http-nio-8080-exec-8] DEBUG [279ff2c03efd423f] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:00.822 [http-nio-8080-exec-8] DEBUG [279ff2c03efd423f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:00.822 [http-nio-8080-exec-8] DEBUG [279ff2c03efd423f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:00.823 [http-nio-8080-exec-8] DEBUG [279ff2c03efd423f] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:05.813 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:05.814 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:05.814 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:05.815 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:05.815 [http-nio-8080-exec-9] DEBUG [1ce6da794af34dab] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:05.815 [http-nio-8080-exec-9] DEBUG [1ce6da794af34dab] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:05.817 [http-nio-8080-exec-9] DEBUG [1ce6da794af34dab] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:05.817 [http-nio-8080-exec-9] DEBUG [1ce6da794af34dab] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:05.818 [http-nio-8080-exec-9] DEBUG [1ce6da794af34dab] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:10.817 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:10.818 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:10.818 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:10.819 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:10.819 [http-nio-8080-exec-10] DEBUG [33a60eb2154e4763] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:10.820 [http-nio-8080-exec-10] DEBUG [33a60eb2154e4763] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:10.821 [http-nio-8080-exec-10] DEBUG [33a60eb2154e4763] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:10.821 [http-nio-8080-exec-10] DEBUG [33a60eb2154e4763] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:10.823 [http-nio-8080-exec-10] DEBUG [33a60eb2154e4763] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:14.285 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:46:14.286 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:14.287 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:14.288 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:46:14.288 [http-nio-8080-exec-1] DEBUG [aee604e78c8d4f97] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:46:14.288 [http-nio-8080-exec-1] DEBUG [aee604e78c8d4f97] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:46:14.293 [http-nio-8080-exec-1] DEBUG [aee604e78c8d4f97] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:14.336 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:14.337 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:14.337 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:14.339 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:14.339 [http-nio-8080-exec-2] DEBUG [13faff96de39403f] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:14.339 [http-nio-8080-exec-2] DEBUG [13faff96de39403f] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:14.340 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:46:14.340 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:14.341 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:14.341 [http-nio-8080-exec-2] DEBUG [13faff96de39403f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:14.342 [http-nio-8080-exec-2] DEBUG [13faff96de39403f] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:14.343 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:46:14.343 [http-nio-8080-exec-2] DEBUG [13faff96de39403f] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:14.346 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:46:14.347 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:14.348 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:46:19.335 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:19.336 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:19.336 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:19.337 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:19.337 [http-nio-8080-exec-4] DEBUG [3fd3003d96a045e7] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:19.337 [http-nio-8080-exec-4] DEBUG [3fd3003d96a045e7] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:19.338 [http-nio-8080-exec-4] DEBUG [3fd3003d96a045e7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:19.339 [http-nio-8080-exec-4] DEBUG [3fd3003d96a045e7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:19.339 [http-nio-8080-exec-4] DEBUG [3fd3003d96a045e7] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:24.324 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:24.325 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:24.325 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:24.326 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:24.326 [http-nio-8080-exec-5] DEBUG [50d301a78fce40ba] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:24.326 [http-nio-8080-exec-5] DEBUG [50d301a78fce40ba] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:24.327 [http-nio-8080-exec-5] DEBUG [50d301a78fce40ba] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:24.328 [http-nio-8080-exec-5] DEBUG [50d301a78fce40ba] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:24.329 [http-nio-8080-exec-5] DEBUG [50d301a78fce40ba] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:29.324 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:29.325 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:29.325 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:29.325 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:29.326 [http-nio-8080-exec-6] DEBUG [505839c9a2524680] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:29.326 [http-nio-8080-exec-6] DEBUG [505839c9a2524680] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:29.327 [http-nio-8080-exec-6] DEBUG [505839c9a2524680] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:29.327 [http-nio-8080-exec-6] DEBUG [505839c9a2524680] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:29.328 [http-nio-8080-exec-6] DEBUG [505839c9a2524680] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:34.321 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:34.322 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:34.322 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:34.323 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:34.324 [http-nio-8080-exec-7] DEBUG [8d73dd7403a1484e] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:34.324 [http-nio-8080-exec-7] DEBUG [8d73dd7403a1484e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:34.326 [http-nio-8080-exec-7] DEBUG [8d73dd7403a1484e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:34.327 [http-nio-8080-exec-7] DEBUG [8d73dd7403a1484e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:34.328 [http-nio-8080-exec-7] DEBUG [8d73dd7403a1484e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:39.334 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:39.335 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:39.335 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:39.336 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:39.336 [http-nio-8080-exec-8] DEBUG [9d8253cbed4d48f1] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:39.336 [http-nio-8080-exec-8] DEBUG [9d8253cbed4d48f1] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:39.337 [http-nio-8080-exec-8] DEBUG [9d8253cbed4d48f1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:39.337 [http-nio-8080-exec-8] DEBUG [9d8253cbed4d48f1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:39.338 [http-nio-8080-exec-8] DEBUG [9d8253cbed4d48f1] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:44.335 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:44.336 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:44.336 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:44.337 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:44.337 [http-nio-8080-exec-9] DEBUG [69703a2a37b4460e] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:44.337 [http-nio-8080-exec-9] DEBUG [69703a2a37b4460e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:44.338 [http-nio-8080-exec-9] DEBUG [69703a2a37b4460e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:44.338 [http-nio-8080-exec-9] DEBUG [69703a2a37b4460e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:44.339 [http-nio-8080-exec-9] DEBUG [69703a2a37b4460e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [b4ec4052ec9849a3] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [b4ec4052ec9849a3] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [b4ec4052ec9849a3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [b4ec4052ec9849a3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:49.321 [http-nio-8080-exec-10] DEBUG [b4ec4052ec9849a3] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] DEBUG [898499aecf594388] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] DEBUG [898499aecf594388] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:54.322 [http-nio-8080-exec-1] DEBUG [898499aecf594388] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:54.330 [http-nio-8080-exec-1] DEBUG [898499aecf594388] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:54.330 [http-nio-8080-exec-1] DEBUG [898499aecf594388] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [21235d9b68254eda] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [21235d9b68254eda] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [21235d9b68254eda] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [21235d9b68254eda] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:46:59.321 [http-nio-8080-exec-2] DEBUG [21235d9b68254eda] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:04.330 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:04.330 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:04.330 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:04.330 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:04.333 [http-nio-8080-exec-3] DEBUG [45003cdeecab4bff] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:04.333 [http-nio-8080-exec-3] DEBUG [45003cdeecab4bff] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:04.333 [http-nio-8080-exec-3] DEBUG [45003cdeecab4bff] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:04.333 [http-nio-8080-exec-3] DEBUG [45003cdeecab4bff] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:04.333 [http-nio-8080-exec-3] DEBUG [45003cdeecab4bff] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:09.331 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:09.331 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:09.331 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:09.331 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:09.331 [http-nio-8080-exec-4] DEBUG [4640d507f9f44bc8] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:09.331 [http-nio-8080-exec-4] DEBUG [4640d507f9f44bc8] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:09.337 [http-nio-8080-exec-4] DEBUG [4640d507f9f44bc8] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:09.337 [http-nio-8080-exec-4] DEBUG [4640d507f9f44bc8] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:09.337 [http-nio-8080-exec-4] DEBUG [4640d507f9f44bc8] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:14.323 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:14.323 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:14.323 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:14.330 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:14.330 [http-nio-8080-exec-5] DEBUG [c538b6e276784a5b] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:14.330 [http-nio-8080-exec-5] DEBUG [c538b6e276784a5b] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:14.330 [http-nio-8080-exec-5] DEBUG [c538b6e276784a5b] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:14.330 [http-nio-8080-exec-5] DEBUG [c538b6e276784a5b] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:14.330 [http-nio-8080-exec-5] DEBUG [c538b6e276784a5b] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [b6e828ad48384554] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [b6e828ad48384554] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [b6e828ad48384554] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [b6e828ad48384554] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:19.333 [http-nio-8080-exec-7] DEBUG [b6e828ad48384554] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [5295bce2cae94be2] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [5295bce2cae94be2] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [5295bce2cae94be2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [5295bce2cae94be2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:24.326 [http-nio-8080-exec-8] DEBUG [5295bce2cae94be2] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [eb5b011ea8ac47ff] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [eb5b011ea8ac47ff] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [eb5b011ea8ac47ff] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [eb5b011ea8ac47ff] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:29.325 [http-nio-8080-exec-9] DEBUG [eb5b011ea8ac47ff] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:33.099 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:47:33.099 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:33.099 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:33.099 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:47:33.099 [http-nio-8080-exec-10] DEBUG [e3e6bb462e004ce6] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:47:33.099 [http-nio-8080-exec-10] DEBUG [e3e6bb462e004ce6] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:47:33.109 [http-nio-8080-exec-10] DEBUG [e3e6bb462e004ce6] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:33.150 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:33.152 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:33.152 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:47:33.152 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:33.153 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:33.153 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:33.153 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:33.153 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:47:33.153 [http-nio-8080-exec-1] DEBUG [61bb034304da4cd1] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:33.154 [http-nio-8080-exec-1] DEBUG [61bb034304da4cd1] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:33.154 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:47:33.154 [http-nio-8080-exec-1] DEBUG [61bb034304da4cd1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:33.154 [http-nio-8080-exec-1] DEBUG [61bb034304da4cd1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:33.156 [http-nio-8080-exec-1] DEBUG [61bb034304da4cd1] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:33.156 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:33.156 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:47:38.145 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [498fdc8828b142c1] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [498fdc8828b142c1] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [498fdc8828b142c1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [498fdc8828b142c1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:38.146 [http-nio-8080-exec-3] DEBUG [498fdc8828b142c1] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:43.138 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:43.139 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:43.139 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:43.140 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:43.140 [http-nio-8080-exec-4] DEBUG [b280bcad65ee4cfc] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:43.141 [http-nio-8080-exec-4] DEBUG [b280bcad65ee4cfc] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:43.142 [http-nio-8080-exec-4] DEBUG [b280bcad65ee4cfc] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:43.142 [http-nio-8080-exec-4] DEBUG [b280bcad65ee4cfc] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:43.143 [http-nio-8080-exec-4] DEBUG [b280bcad65ee4cfc] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [1dd809d97ca648cb] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [1dd809d97ca648cb] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [1dd809d97ca648cb] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [1dd809d97ca648cb] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:48.142 [http-nio-8080-exec-5] DEBUG [1dd809d97ca648cb] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:51.136 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:47:51.137 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:51.137 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:51.138 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:47:51.138 [http-nio-8080-exec-6] DEBUG [5424bc619a994c3a] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:47:51.138 [http-nio-8080-exec-6] DEBUG [5424bc619a994c3a] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:47:51.143 [http-nio-8080-exec-6] DEBUG [5424bc619a994c3a] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [f31675d09f034414] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:51.177 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:47:51.177 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [f31675d09f034414] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:51.177 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [f31675d09f034414] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:51.177 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:47:51.177 [http-nio-8080-exec-7] DEBUG [f31675d09f034414] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:51.192 [http-nio-8080-exec-7] DEBUG [f31675d09f034414] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:47:51.193 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:47:51.193 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:51.194 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:47:56.175 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:47:56.181 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:47:56.181 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:47:56.181 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:47:56.181 [http-nio-8080-exec-9] DEBUG [25123bfbed1f407d] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:47:56.183 [http-nio-8080-exec-9] DEBUG [25123bfbed1f407d] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:47:56.183 [http-nio-8080-exec-9] DEBUG [25123bfbed1f407d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:47:56.183 [http-nio-8080-exec-9] DEBUG [25123bfbed1f407d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:47:56.183 [http-nio-8080-exec-9] DEBUG [25123bfbed1f407d] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [3302fdfb56934c55] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [3302fdfb56934c55] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [3302fdfb56934c55] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [3302fdfb56934c55] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:01.176 [http-nio-8080-exec-2] DEBUG [3302fdfb56934c55] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:06.173 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:06.176 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [61b4217271e64a5b] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [61b4217271e64a5b] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [61b4217271e64a5b] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [61b4217271e64a5b] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:06.177 [http-nio-8080-exec-3] DEBUG [61b4217271e64a5b] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:11.179 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:11.179 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:11.179 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:11.179 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:11.181 [http-nio-8080-exec-4] DEBUG [466e535a9a4f4c07] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:11.181 [http-nio-8080-exec-4] DEBUG [466e535a9a4f4c07] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:11.181 [http-nio-8080-exec-4] DEBUG [466e535a9a4f4c07] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:11.181 [http-nio-8080-exec-4] DEBUG [466e535a9a4f4c07] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:11.181 [http-nio-8080-exec-4] DEBUG [466e535a9a4f4c07] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:16.177 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:16.178 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:16.178 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:16.179 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:16.179 [http-nio-8080-exec-5] DEBUG [45004a9a523c43c0] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:16.179 [http-nio-8080-exec-5] DEBUG [45004a9a523c43c0] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:16.179 [http-nio-8080-exec-5] DEBUG [45004a9a523c43c0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:16.179 [http-nio-8080-exec-5] DEBUG [45004a9a523c43c0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:16.179 [http-nio-8080-exec-5] DEBUG [45004a9a523c43c0] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:20.629 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:48:20.629 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:20.642 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:20.643 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:48:20.643 [http-nio-8080-exec-6] DEBUG [b508aaca1c9b48c1] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:48:20.643 [http-nio-8080-exec-6] DEBUG [b508aaca1c9b48c1] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:48:20.648 [http-nio-8080-exec-6] DEBUG [b508aaca1c9b48c1] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:20.677 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:48:20.677 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:20.677 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:20.677 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:20.677 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:20.677 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:20.677 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:20.677 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:48:20.677 [http-nio-8080-exec-7] DEBUG [2dccb5bb627642e0] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:20.690 [http-nio-8080-exec-7] DEBUG [2dccb5bb627642e0] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:20.690 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:48:20.690 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:20.692 [http-nio-8080-exec-7] DEBUG [2dccb5bb627642e0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:20.692 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:48:20.692 [http-nio-8080-exec-7] DEBUG [2dccb5bb627642e0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:20.694 [http-nio-8080-exec-7] DEBUG [2dccb5bb627642e0] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [45a12ca60919488e] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [45a12ca60919488e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [45a12ca60919488e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [45a12ca60919488e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:25.678 [http-nio-8080-exec-9] DEBUG [45a12ca60919488e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:30.676 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:30.676 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:30.677 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:30.677 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:30.678 [http-nio-8080-exec-1] DEBUG [12d42ec3c77b4905] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:30.678 [http-nio-8080-exec-1] DEBUG [12d42ec3c77b4905] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:30.679 [http-nio-8080-exec-1] DEBUG [12d42ec3c77b4905] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:30.679 [http-nio-8080-exec-1] DEBUG [12d42ec3c77b4905] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:30.680 [http-nio-8080-exec-1] DEBUG [12d42ec3c77b4905] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:35.676 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:35.676 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:35.676 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:35.677 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:35.677 [http-nio-8080-exec-10] DEBUG [28c96abe19894de4] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:35.679 [http-nio-8080-exec-10] DEBUG [28c96abe19894de4] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:35.680 [http-nio-8080-exec-10] DEBUG [28c96abe19894de4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:35.681 [http-nio-8080-exec-10] DEBUG [28c96abe19894de4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:35.682 [http-nio-8080-exec-10] DEBUG [28c96abe19894de4] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:39.486 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard.html
2025-11-05 12:48:39.486 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:39.487 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:39.487 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard.html
2025-11-05 12:48:39.487 [http-nio-8080-exec-2] DEBUG [32d0ae93ecc344e4] o.s.web.servlet.DispatcherServlet - GET "/dashboard.html", parameters={}
2025-11-05 12:48:39.488 [http-nio-8080-exec-2] DEBUG [32d0ae93ecc344e4] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-05 12:48:39.496 [http-nio-8080-exec-2] DEBUG [32d0ae93ecc344e4] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:39.537 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:39.537 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:39.537 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:39.537 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 12:48:39.537 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:39.537 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:39.537 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:39.537 [http-nio-8080-exec-3] DEBUG [f2fc70b955434881] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:39.537 [http-nio-8080-exec-3] DEBUG [f2fc70b955434881] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:39.537 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:48:39.542 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 12:48:39.542 [http-nio-8080-exec-3] DEBUG [f2fc70b955434881] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:39.543 [http-nio-8080-exec-3] DEBUG [f2fc70b955434881] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:39.543 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:39.544 [http-nio-8080-exec-3] DEBUG [f2fc70b955434881] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:39.544 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 12:48:44.528 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:44.529 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:44.529 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:44.530 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:44.530 [http-nio-8080-exec-5] DEBUG [91e7c0cd57ba407c] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:44.531 [http-nio-8080-exec-5] DEBUG [91e7c0cd57ba407c] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:44.532 [http-nio-8080-exec-5] DEBUG [91e7c0cd57ba407c] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:44.532 [http-nio-8080-exec-5] DEBUG [91e7c0cd57ba407c] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:44.533 [http-nio-8080-exec-5] DEBUG [91e7c0cd57ba407c] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:49.533 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:49.533 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:49.533 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:49.533 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:49.533 [http-nio-8080-exec-6] DEBUG [2a48810c33774523] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:49.533 [http-nio-8080-exec-6] DEBUG [2a48810c33774523] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:49.539 [http-nio-8080-exec-6] DEBUG [2a48810c33774523] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:49.539 [http-nio-8080-exec-6] DEBUG [2a48810c33774523] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:49.543 [http-nio-8080-exec-6] DEBUG [2a48810c33774523] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [85c993eb542d43a2] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [85c993eb542d43a2] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [85c993eb542d43a2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [85c993eb542d43a2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:54.524 [http-nio-8080-exec-8] DEBUG [85c993eb542d43a2] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:48:59.527 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:48:59.527 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:48:59.527 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:48:59.534 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:48:59.534 [http-nio-8080-exec-7] DEBUG [fe3fbaff2d644318] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:48:59.534 [http-nio-8080-exec-7] DEBUG [fe3fbaff2d644318] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:48:59.536 [http-nio-8080-exec-7] DEBUG [fe3fbaff2d644318] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:48:59.536 [http-nio-8080-exec-7] DEBUG [fe3fbaff2d644318] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:48:59.536 [http-nio-8080-exec-7] DEBUG [fe3fbaff2d644318] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:04.534 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:04.534 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [27af003813fc4476] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [27af003813fc4476] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [27af003813fc4476] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [27af003813fc4476] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:04.538 [http-nio-8080-exec-9] DEBUG [27af003813fc4476] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:09.530 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:09.530 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:09.530 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:09.530 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:09.533 [http-nio-8080-exec-1] DEBUG [ee0ba92375dc40b5] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:09.533 [http-nio-8080-exec-1] DEBUG [ee0ba92375dc40b5] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:09.533 [http-nio-8080-exec-1] DEBUG [ee0ba92375dc40b5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:09.533 [http-nio-8080-exec-1] DEBUG [ee0ba92375dc40b5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:09.533 [http-nio-8080-exec-1] DEBUG [ee0ba92375dc40b5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:14.529 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:14.529 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:14.530 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:14.530 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:14.531 [http-nio-8080-exec-10] DEBUG [8cfa1493812d4bb6] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:14.532 [http-nio-8080-exec-10] DEBUG [8cfa1493812d4bb6] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:14.534 [http-nio-8080-exec-10] DEBUG [8cfa1493812d4bb6] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:14.535 [http-nio-8080-exec-10] DEBUG [8cfa1493812d4bb6] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:14.537 [http-nio-8080-exec-10] DEBUG [8cfa1493812d4bb6] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:19.740 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:19.745 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:19.745 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:19.745 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:19.745 [http-nio-8080-exec-2] DEBUG [9d992a0206354d61] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:19.745 [http-nio-8080-exec-2] DEBUG [9d992a0206354d61] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:19.748 [http-nio-8080-exec-2] DEBUG [9d992a0206354d61] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:19.748 [http-nio-8080-exec-2] DEBUG [9d992a0206354d61] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:19.748 [http-nio-8080-exec-2] DEBUG [9d992a0206354d61] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:24.751 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:24.753 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:24.753 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:24.757 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:24.757 [http-nio-8080-exec-4] DEBUG [44c1a4b0f10a487d] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:24.759 [http-nio-8080-exec-4] DEBUG [44c1a4b0f10a487d] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:24.760 [http-nio-8080-exec-4] DEBUG [44c1a4b0f10a487d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:24.760 [http-nio-8080-exec-4] DEBUG [44c1a4b0f10a487d] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:24.763 [http-nio-8080-exec-4] DEBUG [44c1a4b0f10a487d] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [eb4724275d7a4b5e] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [eb4724275d7a4b5e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [eb4724275d7a4b5e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [eb4724275d7a4b5e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:29.744 [http-nio-8080-exec-3] DEBUG [eb4724275d7a4b5e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [d509cdda928f4ca7] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [d509cdda928f4ca7] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [d509cdda928f4ca7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [d509cdda928f4ca7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:34.734 [http-nio-8080-exec-5] DEBUG [d509cdda928f4ca7] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:39.744 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:39.744 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:39.744 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:39.744 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:39.744 [http-nio-8080-exec-6] DEBUG [311ad1d77c9b4599] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:39.744 [http-nio-8080-exec-6] DEBUG [311ad1d77c9b4599] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:39.749 [http-nio-8080-exec-6] DEBUG [311ad1d77c9b4599] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:39.751 [http-nio-8080-exec-6] DEBUG [311ad1d77c9b4599] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:39.751 [http-nio-8080-exec-6] DEBUG [311ad1d77c9b4599] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:44.744 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [d1bf3eac3bad4668] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [d1bf3eac3bad4668] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [d1bf3eac3bad4668] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [d1bf3eac3bad4668] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:44.746 [http-nio-8080-exec-7] DEBUG [d1bf3eac3bad4668] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:49.742 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:49.742 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:49.742 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:49.742 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:49.744 [http-nio-8080-exec-9] DEBUG [b1f0da4e2e45479e] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:49.745 [http-nio-8080-exec-9] DEBUG [b1f0da4e2e45479e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:49.745 [http-nio-8080-exec-9] DEBUG [b1f0da4e2e45479e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:49.745 [http-nio-8080-exec-9] DEBUG [b1f0da4e2e45479e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:49.748 [http-nio-8080-exec-9] DEBUG [b1f0da4e2e45479e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [eba75c8857594405] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [eba75c8857594405] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [eba75c8857594405] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:54.750 [http-nio-8080-exec-1] DEBUG [eba75c8857594405] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:54.757 [http-nio-8080-exec-1] DEBUG [eba75c8857594405] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:49:59.743 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:49:59.743 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:49:59.743 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:49:59.743 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:49:59.743 [http-nio-8080-exec-10] DEBUG [d46073baef5b4d63] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:49:59.751 [http-nio-8080-exec-10] DEBUG [d46073baef5b4d63] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:49:59.753 [http-nio-8080-exec-10] DEBUG [d46073baef5b4d63] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:49:59.753 [http-nio-8080-exec-10] DEBUG [d46073baef5b4d63] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:49:59.755 [http-nio-8080-exec-10] DEBUG [d46073baef5b4d63] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:50:04.751 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:50:04.751 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:50:04.751 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:50:04.751 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:50:04.751 [http-nio-8080-exec-2] DEBUG [c92339626d4e4d75] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:50:04.751 [http-nio-8080-exec-2] DEBUG [c92339626d4e4d75] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:50:04.753 [http-nio-8080-exec-2] DEBUG [c92339626d4e4d75] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:50:04.753 [http-nio-8080-exec-2] DEBUG [c92339626d4e4d75] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:50:04.755 [http-nio-8080-exec-2] DEBUG [c92339626d4e4d75] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [2f8f7720aa7b4585] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [2f8f7720aa7b4585] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [2f8f7720aa7b4585] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [2f8f7720aa7b4585] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:50:09.739 [http-nio-8080-exec-4] DEBUG [2f8f7720aa7b4585] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:50:14.740 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:50:14.740 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:50:14.740 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:50:14.740 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:50:14.740 [http-nio-8080-exec-3] DEBUG [12c015f77c1f4984] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:50:14.740 [http-nio-8080-exec-3] DEBUG [12c015f77c1f4984] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:50:14.744 [http-nio-8080-exec-3] DEBUG [12c015f77c1f4984] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:50:14.744 [http-nio-8080-exec-3] DEBUG [12c015f77c1f4984] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:50:14.744 [http-nio-8080-exec-3] DEBUG [12c015f77c1f4984] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:50:24.735 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:50:24.735 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:50:24.741 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:50:24.741 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:50:24.741 [http-nio-8080-exec-5] DEBUG [c38dfaf7cbc4414a] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:50:24.741 [http-nio-8080-exec-5] DEBUG [c38dfaf7cbc4414a] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:50:24.744 [http-nio-8080-exec-5] DEBUG [c38dfaf7cbc4414a] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:50:24.744 [http-nio-8080-exec-5] DEBUG [c38dfaf7cbc4414a] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:50:24.744 [http-nio-8080-exec-5] DEBUG [c38dfaf7cbc4414a] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:51:24.741 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:51:24.741 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:51:24.741 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:51:24.741 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:51:24.741 [http-nio-8080-exec-8] DEBUG [4ceca8208e5642d0] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:51:24.741 [http-nio-8080-exec-8] DEBUG [4ceca8208e5642d0] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:51:24.746 [http-nio-8080-exec-8] DEBUG [4ceca8208e5642d0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:51:24.746 [http-nio-8080-exec-8] DEBUG [4ceca8208e5642d0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:51:24.746 [http-nio-8080-exec-8] DEBUG [4ceca8208e5642d0] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:52:24.733 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:52:24.733 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:52:24.747 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:52:24.747 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:52:24.748 [http-nio-8080-exec-9] DEBUG [6cc8cfa8cc6e4599] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:52:24.748 [http-nio-8080-exec-9] DEBUG [6cc8cfa8cc6e4599] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:52:24.751 [http-nio-8080-exec-9] DEBUG [6cc8cfa8cc6e4599] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:52:24.751 [http-nio-8080-exec-9] DEBUG [6cc8cfa8cc6e4599] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:52:24.751 [http-nio-8080-exec-9] DEBUG [6cc8cfa8cc6e4599] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:53:24.743 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:53:24.743 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:53:24.743 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:53:24.750 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:53:24.751 [http-nio-8080-exec-1] DEBUG [36ff3974fe9449a5] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:53:24.751 [http-nio-8080-exec-1] DEBUG [36ff3974fe9449a5] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:53:24.753 [http-nio-8080-exec-1] DEBUG [36ff3974fe9449a5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:53:24.753 [http-nio-8080-exec-1] DEBUG [36ff3974fe9449a5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:53:24.755 [http-nio-8080-exec-1] DEBUG [36ff3974fe9449a5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:54:24.744 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:54:24.744 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:54:24.745 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:54:24.745 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:54:24.746 [http-nio-8080-exec-10] DEBUG [93eb24f1545244ea] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:54:24.746 [http-nio-8080-exec-10] DEBUG [93eb24f1545244ea] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:54:24.748 [http-nio-8080-exec-10] DEBUG [93eb24f1545244ea] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:54:24.748 [http-nio-8080-exec-10] DEBUG [93eb24f1545244ea] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:54:24.749 [http-nio-8080-exec-10] DEBUG [93eb24f1545244ea] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:55:24.741 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:55:24.741 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:55:24.741 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:55:24.741 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:55:24.741 [http-nio-8080-exec-2] DEBUG [afea7e5dfd554e5c] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:55:24.748 [http-nio-8080-exec-2] DEBUG [afea7e5dfd554e5c] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:55:24.749 [http-nio-8080-exec-2] DEBUG [afea7e5dfd554e5c] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:55:24.749 [http-nio-8080-exec-2] DEBUG [afea7e5dfd554e5c] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:55:24.751 [http-nio-8080-exec-2] DEBUG [afea7e5dfd554e5c] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:56:24.748 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:56:24.748 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:56:24.748 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:56:24.748 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:56:24.748 [http-nio-8080-exec-4] DEBUG [967d42d3d2b04896] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:56:24.748 [http-nio-8080-exec-4] DEBUG [967d42d3d2b04896] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:56:24.779 [http-nio-8080-exec-4] DEBUG [967d42d3d2b04896] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:56:24.779 [http-nio-8080-exec-4] DEBUG [967d42d3d2b04896] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:56:24.781 [http-nio-8080-exec-4] DEBUG [967d42d3d2b04896] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:57:21.276 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:57:21.277 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:57:21.277 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:57:21.278 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:57:21.278 [http-nio-8080-exec-3] DEBUG [5d644f01733c4098] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:57:21.280 [http-nio-8080-exec-3] DEBUG [5d644f01733c4098] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:57:21.282 [http-nio-8080-exec-3] DEBUG [5d644f01733c4098] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:57:21.283 [http-nio-8080-exec-3] DEBUG [5d644f01733c4098] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:57:21.284 [http-nio-8080-exec-3] DEBUG [5d644f01733c4098] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /dashboard/api/metrics
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /dashboard/api/metrics
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [9ba4745e537140bd] o.s.web.servlet.DispatcherServlet - GET "/dashboard/api/metrics", parameters={}
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [9ba4745e537140bd] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.DashboardController#getMetricsData()
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [9ba4745e537140bd] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [9ba4745e537140bd] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{usuarios_ativos=0.0, tempo_medio_banco=0.0, memoria_max=1.073741824E9, tempo_medio_pedido=0.0, rece (truncated)...]
2025-11-05 12:57:24.532 [http-nio-8080-exec-5] DEBUG [9ba4745e537140bd] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 19:18:36.646 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 11552 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 19:18:36.649 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 19:18:36.650 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 19:18:36.704 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05 19:18:36.705 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05 19:18:38.772 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:18:38.775 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 19:18:39.013 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 225 ms. Found 5 JPA repository interfaces.
2025-11-05 19:18:39.035 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:18:39.038 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-05 19:18:39.066 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:18:39.067 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:18:39.068 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:18:39.069 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:18:39.069 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:18:39.069 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-05 19:18:40.017 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 19:18:40.034 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 19:18:40.039 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 19:18:40.040 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 19:18:40.125 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 19:18:40.126 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3419 ms
2025-11-05 19:18:41.052 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 19:18:41.095 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-05 19:18:41.296 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 19:18:41.298 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-05 19:18:41.326 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 19:18:42.397 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 19:18:42.401 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 19:18:42.402 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 19:18:42.402 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 19:18:42.403 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 19:18:42.403 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 19:18:42.411 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 19:18:42.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 19:18:42.426 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 19:18:42.428 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 19:18:42.430 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 19:18:42.431 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 19:18:42.433 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 19:18:42.447 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 19:18:42.450 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 19:18:42.451 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:18:42.452 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:18:42.458 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 19:18:42.905 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 19:18:42.907 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 19:18:43.004 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05 19:18:43.770 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 19:18:43.771 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 19:18:44.206 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 19:18:44.210 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.221 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 19:18:44.222 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.223 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 19:18:44.224 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.243 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 19:18:44.244 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.246 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 19:18:44.248 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.248 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 19:18:44.249 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.266 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:18:44.267 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.269 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:18:44.269 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 19:18:44.605 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 19:18:44.724 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 19:18:45.256 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 19:18:45.493 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 19:18:45.617 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 19:18:45.708 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 19:18:46.162 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 19:18:46.264 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 19:18:46.347 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 19:18:46.383 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 19:18:46.402 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 10.275 seconds (process running for 10.745)
2025-11-05 19:18:46.538 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:18:46.637 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:18:46.640 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:18:46.644 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:18:46.756 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 19:18:46.782 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 19:18:46.793 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 19:18:46.801 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 19:18:46.805 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 19:18:46.810 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 19:18:46.815 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 19:19:48.378 [http-nio-8080-exec-1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 19:19:48.379 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 19:19:48.379 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 19:19:48.380 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 19:19:48.380 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 19:19:48.382 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4e0d6cc0
2025-11-05 19:19:48.383 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@12730900
2025-11-05 19:19:48.383 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 19:19:48.384 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-05 19:19:48.440 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/1/produtos
2025-11-05 19:19:48.460 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:19:48.464 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:19:48.491 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:19:48.506 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:19:48.508 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:19:48.509 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:20:14.136 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-11-05 19:20:14.138 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:20:14.140 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:20:14.146 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-11-05 19:20:14.252 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-11-05 19:20:14.260 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#register(RegisterRequest)
2025-11-05 19:20:14.413 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(nome=David Duchovny, email=daviddu@email.com, password=123456, role=CLIENTE, restaur (truncated)...]
2025-11-05 19:20:14.473 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        usuario u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-11-05 19:20:14.571 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:20:14.614 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:20:14.617 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserResponse(id=7, nome=David Duchovny, email=daviddu@email.com, role=CLIENTE, ativo=true, dataCriac (truncated)...]
2025-11-05 19:20:14.636 [http-nio-8080-exec-3] DEBUG [41aa5fd1a8b74190] o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-05 19:20:33.449 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-05 19:20:33.450 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:20:33.451 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:20:33.452 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-05 19:20:33.453 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-05 19:20:33.455 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#login(LoginRequest)
2025-11-05 19:20:33.460 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(email=daviddu@email.com, password=123456)]
2025-11-05 19:20:33.548 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:20:33.625 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-05 19:20:33.628 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:20:33.697 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:20:33.698 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQ0xJRU5URSIsIm5vbWUiOiJEYXZpZCBEdWNob3ZueSIsInV (truncated)...]
2025-11-05 19:20:33.700 [http-nio-8080-exec-4] DEBUG [cd82c52fc5b842bc] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 19:21:27.923 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/1/produtos
2025-11-05 19:21:27.961 [http-nio-8080-exec-5] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:21:27.971 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from FAA31D40E251CE3A287EB20D7B8C83AD
2025-11-05 19:21:27.975 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/produtos/1/produtos
2025-11-05 19:21:27.976 [http-nio-8080-exec-5] DEBUG [16b900bc37fa438b] o.s.web.servlet.DispatcherServlet - GET "/api/produtos/1/produtos", parameters={}
2025-11-05 19:21:27.978 [http-nio-8080-exec-5] DEBUG [16b900bc37fa438b] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#buscarProdutosPorRestaurante(Long)
2025-11-05 19:21:27.991 [http-nio-8080-exec-5] DEBUG [16b900bc37fa438b] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    left join
        restaurante r1_0 
            on r1_0.id=p1_0.restaurante_id 
    where
        r1_0.id=? 
        and p1_0.disponivel
2025-11-05 19:21:28.054 [http-nio-8080-exec-5] DEBUG [16b900bc37fa438b] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:21:28.072 [http-nio-8080-exec-5] DEBUG [16b900bc37fa438b] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=[ProdutoResponseDTO(id=1, nome=Pizza Margherita, descricao=Mol (truncated)...]
2025-11-05 19:21:28.081 [http-nio-8080-exec-5] DEBUG [16b900bc37fa438b] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 19:22:18.067 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/1/produtos
2025-11-05 19:22:18.074 [http-nio-8080-exec-6] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:22:18.082 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 994B2289AC2D4189E314FC765E09FA44
2025-11-05 19:22:18.083 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/produtos/1/produtos
2025-11-05 19:22:18.084 [http-nio-8080-exec-6] DEBUG [e653840d06924254] o.s.web.servlet.DispatcherServlet - GET "/api/produtos/1/produtos", parameters={}
2025-11-05 19:22:18.085 [http-nio-8080-exec-6] DEBUG [e653840d06924254] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#buscarProdutosPorRestaurante(Long)
2025-11-05 19:22:18.088 [http-nio-8080-exec-6] DEBUG [e653840d06924254] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:22:18.088 [http-nio-8080-exec-6] DEBUG [e653840d06924254] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=[ProdutoResponseDTO(id=1, nome=Pizza Margherita, descricao=Mol (truncated)...]
2025-11-05 19:22:18.090 [http-nio-8080-exec-6] DEBUG [e653840d06924254] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 19:30:12.295 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 19:30:12.300 [Thread-5] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 19:30:12.301 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 19:30:12.349 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 19:30:12.349 [Thread-5] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 19:30:12.369 [Thread-5] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 19:30:12.371 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 19:30:12.373 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 19:30:12.374 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 19:30:12.375 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 19:30:12.375 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 19:30:12.376 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 19:30:12.383 [Thread-5] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 19:30:12.383 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-05 19:30:12.387 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-05 19:30:12.487 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 11552 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 19:30:12.487 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 19:30:12.487 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 19:30:12.943 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:30:12.943 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 19:30:12.976 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 5 JPA repository interfaces.
2025-11-05 19:30:12.976 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:30:12.976 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-05 19:30:12.994 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:30:12.995 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:30:12.995 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:30:12.996 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:30:12.996 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:30:12.996 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-11-05 19:30:13.134 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 19:30:13.135 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 19:30:13.135 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 19:30:13.135 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 19:30:13.158 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 19:30:13.159 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 670 ms
2025-11-05 19:30:13.266 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 19:30:13.267 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-05 19:30:13.269 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 19:30:13.269 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-05 19:30:13.270 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 19:30:13.423 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 19:30:13.434 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 19:30:13.436 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 19:30:13.437 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 19:30:13.440 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 19:30:13.441 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 19:30:13.444 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 19:30:13.445 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 19:30:13.445 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:30:13.448 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:30:13.451 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 19:30:13.510 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 19:30:13.510 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 19:30:13.598 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 19:30:13.599 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 19:30:13.678 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 19:30:13.678 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.681 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 19:30:13.681 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.682 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 19:30:13.682 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.697 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 19:30:13.697 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.698 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 19:30:13.699 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.699 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 19:30:13.699 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.715 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:30:13.715 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.718 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:30:13.719 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 19:30:13.776 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 19:30:13.817 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 19:30:13.876 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 19:30:13.925 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 19:30:13.953 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 19:30:13.959 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 19:30:14.032 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 19:30:14.049 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 19:30:14.066 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 19:30:14.070 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 19:30:14.077 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.632 seconds (process running for 698.423)
2025-11-05 19:30:14.084 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:30:14.086 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:30:14.091 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:30:14.095 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:30:14.115 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 19:30:14.121 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 19:30:14.126 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 19:30:14.131 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 19:30:14.135 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 19:30:14.140 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 19:30:14.144 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 19:30:14.149 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 19:37:12.209 [http-nio-8080-exec-2] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 19:37:12.210 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 19:37:12.210 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 19:37:12.210 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 19:37:12.210 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 19:37:12.212 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@671036bf
2025-11-05 19:37:12.213 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@593eb278
2025-11-05 19:37:12.213 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 19:37:12.214 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-05 19:37:12.217 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-11-05 19:37:12.220 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:37:12.221 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:37:12.222 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-11-05 19:37:12.224 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-11-05 19:37:12.225 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#register(RegisterRequest)
2025-11-05 19:37:12.231 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(nome=Sushi Sashimi Restaurante, email=susashimi@email.com, password=123456, role=RES (truncated)...]
2025-11-05 19:37:12.243 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        usuario u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-11-05 19:37:12.359 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Usuario */insert 
    into
        usuario (ativo, data_criacao, email, nome, restaurante_id, role, senha, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:37:12.370 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:37:12.372 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserResponse(id=7, nome=Sushi Sashimi Restaurante, email=susashimi@email.com, role=RESTAURANTE, ativ (truncated)...]
2025-11-05 19:37:12.375 [http-nio-8080-exec-2] DEBUG [207da7d7a0f24646] o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-05 19:37:41.392 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-05 19:37:41.393 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:37:41.394 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:37:41.396 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-05 19:37:41.396 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-05 19:37:41.397 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#login(LoginRequest)
2025-11-05 19:37:41.400 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(email=susashimi@email.com, password=123456)]
2025-11-05 19:37:41.495 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:37:41.572 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-05 19:37:41.575 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:37:41.585 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:37:41.586 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiUkVTVEFVUkFOVEUiLCJub21lIjoiU3VzaGkgU2FzaGltaSB (truncated)...]
2025-11-05 19:37:41.588 [http-nio-8080-exec-3] DEBUG [b001f569f6d44861] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 19:39:32.399 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console
2025-11-05 19:39:32.401 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:32.401 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.402 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 9E3F3BD2211D19E0122EDE46A708962A
2025-11-05 19:39:32.402 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console
2025-11-05 19:39:32.413 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/
2025-11-05 19:39:32.413 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:32.414 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.415 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/
2025-11-05 19:39:32.495 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-05 19:39:32.496 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:32.497 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.498 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-05 19:39:32.518 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:32.519 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:32.519 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.520 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:32.555 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/background.gif
2025-11-05 19:39:32.556 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:32.557 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.558 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/background.gif
2025-11-05 19:39:32.605 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 19:39:32.606 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:32.607 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.613 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:39:32.615 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:39:32.616 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:32.617 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:39:34.787 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/login.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.787 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.788 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.789 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/login.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.845 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/header.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.845 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tables.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.846 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.846 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.846 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.846 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.847 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tables.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.848 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/header.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.848 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/query.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.848 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/help.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.849 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.849 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.849 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.849 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.850 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/help.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.850 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/query.jsp?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:34.873 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_disconnect.gif
2025-11-05 19:39:34.876 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_line.gif
2025-11-05 19:39:34.877 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.879 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_rollback.gif
2025-11-05 19:39:34.878 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.880 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_commit.gif
2025-11-05 19:39:34.880 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.881 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.879 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.880 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.880 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_refresh.gif
2025-11-05 19:39:34.881 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.881 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.881 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_line.gif
2025-11-05 19:39:34.882 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_rollback.gif
2025-11-05 19:39:34.882 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.882 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_disconnect.gif
2025-11-05 19:39:34.884 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.882 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_commit.gif
2025-11-05 19:39:34.885 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_refresh.gif
2025-11-05 19:39:34.893 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run.gif
2025-11-05 19:39:34.893 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run_selected.gif
2025-11-05 19:39:34.894 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.894 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.895 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.895 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.896 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_history.gif
2025-11-05 19:39:34.896 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_help.gif
2025-11-05 19:39:34.896 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run_selected.gif
2025-11-05 19:39:34.896 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_stop.gif
2025-11-05 19:39:34.897 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.897 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run.gif
2025-11-05 19:39:34.897 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.897 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.897 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.898 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.898 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.899 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_history.gif
2025-11-05 19:39:34.900 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_help.gif
2025-11-05 19:39:34.900 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_stop.gif
2025-11-05 19:39:34.939 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree.js
2025-11-05 19:39:34.940 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.941 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.942 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree.js
2025-11-05 19:39:34.960 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_plus.gif
2025-11-05 19:39:34.961 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_database.gif
2025-11-05 19:39:34.961 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_minus.gif
2025-11-05 19:39:34.961 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_table.gif
2025-11-05 19:39:34.962 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_column.gif
2025-11-05 19:39:34.962 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.962 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.962 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.962 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_empty.gif
2025-11-05 19:39:34.962 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.962 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.962 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.963 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.962 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.962 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.963 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.963 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.963 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.963 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_table.gif
2025-11-05 19:39:34.963 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_minus.gif
2025-11-05 19:39:34.963 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_database.gif
2025-11-05 19:39:34.964 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_plus.gif
2025-11-05 19:39:34.964 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_column.gif
2025-11-05 19:39:34.964 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_empty.gif
2025-11-05 19:39:34.973 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_info.gif
2025-11-05 19:39:34.973 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_users.gif
2025-11-05 19:39:34.975 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.976 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.976 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index_az.gif
2025-11-05 19:39:34.973 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_folder.gif
2025-11-05 19:39:34.976 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_type.gif
2025-11-05 19:39:34.977 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.977 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.977 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.977 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.978 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.978 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_users.gif
2025-11-05 19:39:34.979 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.978 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.978 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.979 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index_az.gif
2025-11-05 19:39:34.980 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_info.gif
2025-11-05 19:39:34.980 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index.gif
2025-11-05 19:39:34.980 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_folder.gif
2025-11-05 19:39:34.980 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_type.gif
2025-11-05 19:39:34.981 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.981 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.982 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index.gif
2025-11-05 19:39:34.993 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_user.gif
2025-11-05 19:39:34.993 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_view.gif
2025-11-05 19:39:34.994 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.994 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:34.995 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.995 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:34.996 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_view.gif
2025-11-05 19:39:34.996 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_user.gif
2025-11-05 19:39:35.010 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 19:39:35.011 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:35.011 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:35.013 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:39:35.015 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:39:35.017 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:35.017 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:39:40.179 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:40.180 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:40.180 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:40.181 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:39:40.208 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-05 19:39:40.209 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:39:40.209 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:39:40.211 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-05 19:40:26.561 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:40:26.562 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:40:26.563 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:40:26.564 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:40:26.586 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-05 19:40:26.586 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-05 19:40:26.587 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:40:26.587 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:40:26.587 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:40:26.587 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:40:26.589 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-05 19:40:26.589 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-05 19:41:11.185 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:41:11.186 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:41:11.187 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:41:11.188 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:41:11.207 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-05 19:41:11.208 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-05 19:41:11.209 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:41:11.209 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:41:11.210 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:41:11.210 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:41:11.211 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-05 19:41:11.211 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-05 19:44:24.271 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 38736 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 19:44:24.274 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 19:44:24.276 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 19:44:24.344 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-05 19:44:24.345 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-05 19:44:25.986 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:44:25.988 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 19:44:26.261 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 258 ms. Found 5 JPA repository interfaces.
2025-11-05 19:44:26.282 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:44:26.284 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-05 19:44:26.311 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:44:26.312 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:44:26.313 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:44:26.314 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:44:26.314 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:44:26.314 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-05 19:44:27.264 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 19:44:27.279 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 19:44:27.284 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 19:44:27.284 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 19:44:27.359 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 19:44:27.360 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3014 ms
2025-11-05 19:44:28.308 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 19:44:28.351 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-05 19:44:28.539 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 19:44:28.541 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-05 19:44:28.567 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 19:44:29.776 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 19:44:29.780 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 19:44:29.781 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 19:44:29.781 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 19:44:29.782 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 19:44:29.782 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 19:44:29.790 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 19:44:29.801 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 19:44:29.803 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 19:44:29.805 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 19:44:29.807 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 19:44:29.809 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 19:44:29.811 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 19:44:29.827 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 19:44:29.830 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 19:44:29.832 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:44:29.834 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:44:29.841 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 19:44:30.233 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 19:44:30.235 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 19:44:30.319 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-05 19:44:31.084 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 19:44:31.085 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 19:44:31.535 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 19:44:31.539 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.555 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 19:44:31.556 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.556 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 19:44:31.557 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.587 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 19:44:31.588 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.590 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 19:44:31.591 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.592 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 19:44:31.592 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.618 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:44:31.619 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.621 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:44:31.621 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:44:31.986 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 19:44:32.106 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 19:44:32.663 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 19:44:32.890 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 19:44:33.004 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 19:44:33.087 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 19:44:33.559 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 19:44:33.673 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 19:44:33.755 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 19:44:33.789 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 19:44:33.815 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 10.145 seconds (process running for 10.561)
2025-11-05 19:44:33.956 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:44:34.038 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:44:34.042 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:44:34.045 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:44:34.153 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 19:44:34.174 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 19:44:34.186 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 19:44:34.196 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 19:44:34.201 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 19:44:34.206 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 19:44:34.211 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 19:44:39.630 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:44:39.649 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.653 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.654 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 6295D4A24FFB4ED1796116200D5AAE42
2025-11-05 19:44:39.669 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=0c3990b585e4e84ead843cc3f6d085b8
2025-11-05 19:44:39.785 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-05 19:44:39.787 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.787 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.789 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-05 19:44:39.808 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=bb1ec846ffa4641083bc9bcdcbb53daf
2025-11-05 19:44:39.809 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.810 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.811 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=bb1ec846ffa4641083bc9bcdcbb53daf
2025-11-05 19:44:39.837 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp
2025-11-05 19:44:39.838 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.839 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.840 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp
2025-11-05 19:44:39.846 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/background.gif
2025-11-05 19:44:39.847 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.848 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.849 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/background.gif
2025-11-05 19:44:39.918 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:39.919 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.920 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.921 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:39.961 [http-nio-8080-exec-7] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 19:44:39.962 [http-nio-8080-exec-7] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 19:44:39.962 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 19:44:39.964 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 19:44:39.964 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 19:44:39.966 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@236f6c20
2025-11-05 19:44:39.967 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@44f08be2
2025-11-05 19:44:39.968 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 19:44:39.968 [http-nio-8080-exec-7] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-05 19:44:39.970 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 19:44:39.971 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:39.971 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.981 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:44:39.994 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:44:39.995 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:39.996 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:44:41.358 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/login.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.359 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.360 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.361 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/login.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.402 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/header.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.404 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.404 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.406 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tables.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.406 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/header.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.407 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.408 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.408 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/help.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.408 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/query.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.409 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.409 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tables.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.410 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.410 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.411 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.412 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/help.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.412 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/query.jsp?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:41.426 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_disconnect.gif
2025-11-05 19:44:41.426 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_line.gif
2025-11-05 19:44:41.426 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_refresh.gif
2025-11-05 19:44:41.427 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.427 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.427 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.428 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.428 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.428 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.429 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_refresh.gif
2025-11-05 19:44:41.429 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_disconnect.gif
2025-11-05 19:44:41.429 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_line.gif
2025-11-05 19:44:41.432 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_commit.gif
2025-11-05 19:44:41.433 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_rollback.gif
2025-11-05 19:44:41.433 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.435 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.435 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.435 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.436 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_commit.gif
2025-11-05 19:44:41.436 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_rollback.gif
2025-11-05 19:44:41.437 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_stop.gif
2025-11-05 19:44:41.438 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run_selected.gif
2025-11-05 19:44:41.439 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.439 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.439 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.439 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.440 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run_selected.gif
2025-11-05 19:44:41.440 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_stop.gif
2025-11-05 19:44:41.440 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_history.gif
2025-11-05 19:44:41.444 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.445 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.446 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_history.gif
2025-11-05 19:44:41.448 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_help.gif
2025-11-05 19:44:41.449 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.450 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.451 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run.gif
2025-11-05 19:44:41.453 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_help.gif
2025-11-05 19:44:41.453 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.454 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.455 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run.gif
2025-11-05 19:44:41.499 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree.js
2025-11-05 19:44:41.500 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.500 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.502 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree.js
2025-11-05 19:44:41.518 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_database.gif
2025-11-05 19:44:41.520 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_table.gif
2025-11-05 19:44:41.518 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_plus.gif
2025-11-05 19:44:41.519 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_minus.gif
2025-11-05 19:44:41.520 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_column.gif
2025-11-05 19:44:41.522 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.520 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_empty.gif
2025-11-05 19:44:41.521 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.521 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.522 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.522 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.522 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.522 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.522 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.524 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.523 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.523 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.524 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.526 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_table.gif
2025-11-05 19:44:41.527 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_column.gif
2025-11-05 19:44:41.527 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_database.gif
2025-11-05 19:44:41.527 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_plus.gif
2025-11-05 19:44:41.528 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_empty.gif
2025-11-05 19:44:41.528 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_minus.gif
2025-11-05 19:44:41.537 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_users.gif
2025-11-05 19:44:41.537 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_info.gif
2025-11-05 19:44:41.539 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.539 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.541 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_info.gif
2025-11-05 19:44:41.538 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_folder.gif
2025-11-05 19:44:41.539 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.544 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.544 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.546 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_users.gif
2025-11-05 19:44:41.546 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.548 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_folder.gif
2025-11-05 19:44:41.549 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index_az.gif
2025-11-05 19:44:41.549 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_type.gif
2025-11-05 19:44:41.550 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.551 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index.gif
2025-11-05 19:44:41.551 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.551 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.552 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.552 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.553 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.553 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index_az.gif
2025-11-05 19:44:41.553 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_type.gif
2025-11-05 19:44:41.555 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_view.gif
2025-11-05 19:44:41.555 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index.gif
2025-11-05 19:44:41.556 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.557 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.558 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_user.gif
2025-11-05 19:44:41.558 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_view.gif
2025-11-05 19:44:41.559 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.560 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.561 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_user.gif
2025-11-05 19:44:41.577 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 19:44:41.578 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:41.579 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.580 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:44:41.583 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:44:41.585 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:41.586 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:44:45.553 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:45.554 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:45.554 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:45.556 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:44:45.591 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-05 19:44:45.592 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:44:45.592 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:44:45.594 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-05 19:45:53.402 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-05 19:45:53.403 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:45:53.404 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:45:53.404 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 6282A03753FB37874209657ED4DEEE40
2025-11-05 19:45:53.405 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-05 19:45:53.408 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-05 19:45:53.411 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#login(LoginRequest)
2025-11-05 19:45:53.510 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(email=burger@king.com, password=123456)]
2025-11-05 19:45:53.633 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:45:53.707 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-05 19:45:53.709 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:45:53.782 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:45:53.785 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiUkVTVEFVUkFOVEUiLCJyZXN0YXVyYW50ZUlkIjoyLCJub21 (truncated)...]
2025-11-05 19:45:53.792 [http-nio-8080-exec-7] DEBUG [3266a083e3624c3e] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 19:48:21.783 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:48:21.784 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:48:21.785 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:48:21.786 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:48:21.806 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-05 19:48:21.807 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:48:21.808 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:48:21.808 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-05 19:48:21.810 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:48:21.810 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-05 19:48:21.810 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:48:21.812 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-05 19:58:12.638 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/produtos/6
2025-11-05 19:58:12.683 [http-nio-8080-exec-6] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:58:12.693 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 1940E6902D2C312491DD95344105000D
2025-11-05 19:58:12.696 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/produtos/6
2025-11-05 19:58:12.696 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.web.servlet.DispatcherServlet - PUT "/api/produtos/6", parameters={}
2025-11-05 19:58:12.697 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#atualizarProduto(Long, ProdutoDTO)
2025-11-05 19:58:12.734 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProdutoDTO(nome=X-Salada, descricao=Hamburguer, queijo, alface, tomate e cebola, preco=19.90, catego (truncated)...]
2025-11-05 19:58:12.769 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.deliverytech.delivery_api.exception.GlobalExceptionHandler#handleGenericException(Exception, WebRequest)
2025-11-05 19:58:12.791 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:58:12.797 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-05T19:58:12.779962400, status=500, error=Erro interno do servidor, m (truncated)...]
2025-11-05 19:58:12.799 [http-nio-8080-exec-6] WARN  [1030cf3b2bc94adb] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Failed to evaluate expression 'hasRole('ADMIN') or @produtoService.isOwner(#id)']
2025-11-05 19:58:12.799 [http-nio-8080-exec-6] DEBUG [1030cf3b2bc94adb] o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-05 19:58:29.153 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 19:58:29.158 [Thread-5] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 19:58:29.159 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 19:58:29.213 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 19:58:29.214 [Thread-5] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 19:58:29.229 [Thread-5] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 19:58:29.230 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 19:58:29.231 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 19:58:29.232 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 19:58:29.234 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 19:58:29.235 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 19:58:29.236 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 19:58:29.243 [Thread-5] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 19:58:29.244 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-05 19:58:29.246 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-05 19:58:29.357 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 38736 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 19:58:29.358 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 19:58:29.358 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 19:58:29.847 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:58:29.847 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 19:58:29.884 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2025-11-05 19:58:29.888 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 19:58:29.889 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-05 19:58:29.895 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:58:29.895 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:58:29.896 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:58:29.896 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:58:29.896 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 19:58:29.896 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-11-05 19:58:30.023 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 19:58:30.024 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 19:58:30.025 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 19:58:30.025 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 19:58:30.051 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 19:58:30.051 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 691 ms
2025-11-05 19:58:30.161 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 19:58:30.162 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-05 19:58:30.165 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn11: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 19:58:30.165 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-05 19:58:30.166 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 19:58:30.315 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 19:58:30.316 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 19:58:30.316 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 19:58:30.317 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 19:58:30.317 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 19:58:30.318 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 19:58:30.318 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 19:58:30.320 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 19:58:30.321 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 19:58:30.323 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 19:58:30.325 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 19:58:30.327 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 19:58:30.329 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 19:58:30.330 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 19:58:30.331 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 19:58:30.332 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:58:30.333 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 19:58:30.335 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 19:58:30.397 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 19:58:30.397 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 19:58:30.482 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 19:58:30.483 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 19:58:30.556 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 19:58:30.556 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.559 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 19:58:30.560 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.560 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 19:58:30.560 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.578 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 19:58:30.579 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.580 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 19:58:30.580 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.580 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 19:58:30.581 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.594 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:58:30.594 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.595 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 19:58:30.596 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 19:58:30.675 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 19:58:30.713 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 19:58:30.774 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 19:58:30.823 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 19:58:30.851 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 19:58:30.862 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 19:58:30.936 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 19:58:30.954 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 19:58:30.967 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 19:58:30.970 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 19:58:30.977 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.674 seconds (process running for 847.723)
2025-11-05 19:58:30.982 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:58:30.987 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 19:58:30.991 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:58:30.994 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 19:58:31.013 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 19:58:31.018 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 19:58:31.023 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 19:58:31.028 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 19:58:31.039 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 19:58:31.057 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 19:58:31.067 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 19:58:31.078 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 19:58:54.832 [http-nio-8080-exec-2] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 19:58:54.833 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 19:58:54.833 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 19:58:54.834 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 19:58:54.834 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 19:58:54.835 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@58bdd450
2025-11-05 19:58:54.836 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@21cca567
2025-11-05 19:58:54.837 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 19:58:54.837 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-05 19:58:54.839 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/produtos/6
2025-11-05 19:58:54.849 [http-nio-8080-exec-2] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:58:54.860 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5F736885112ED4BD48A354A55246C023
2025-11-05 19:58:54.863 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/produtos/6
2025-11-05 19:58:54.863 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.web.servlet.DispatcherServlet - PUT "/api/produtos/6", parameters={}
2025-11-05 19:58:54.864 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#atualizarProduto(Long, ProdutoDTO)
2025-11-05 19:58:54.876 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProdutoDTO(nome=X-Salada, descricao=Hamburguer, queijo, alface, tomate e cebola, preco=19.90, catego (truncated)...]
2025-11-05 19:58:54.902 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.deliverytech.delivery_api.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-11-05 19:58:54.910 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:58:54.911 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-05T19:58:54.905004900, status=400, error=Dados invlidos, message=Er (truncated)...]
2025-11-05 19:58:54.913 [http-nio-8080-exec-2] WARN  [2b1dcf8f84dc4a02] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.deliverytech.delivery_api.dto.ApiResponseWrapper<com.deliverytech.delivery_api.dto.ProdutoResponseDTO>> com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO): [Field error in object 'produtoDTO' on field 'restauranteId': rejected value [null]; codes [NotNull.produtoDTO.restauranteId,NotNull.restauranteId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [produtoDTO.restauranteId,restauranteId]; arguments []; default message [restauranteId]]; default message [Restaurante  obrigatrio]] ]
2025-11-05 19:58:54.914 [http-nio-8080-exec-2] DEBUG [2b1dcf8f84dc4a02] o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-11-05 19:59:23.322 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/produtos/6
2025-11-05 19:59:23.327 [http-nio-8080-exec-4] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 19:59:23.335 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 50387C2728F5B335DB57C2790C39900D
2025-11-05 19:59:23.337 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/produtos/6
2025-11-05 19:59:23.338 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.web.servlet.DispatcherServlet - PUT "/api/produtos/6", parameters={}
2025-11-05 19:59:23.339 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#atualizarProduto(Long, ProdutoDTO)
2025-11-05 19:59:23.341 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProdutoDTO(nome=X-Salada, descricao=Hamburguer, queijo, alface, tomate e cebola, preco=19.90, catego (truncated)...]
2025-11-05 19:59:23.343 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.deliverytech.delivery_api.exception.GlobalExceptionHandler#handleGenericException(Exception, WebRequest)
2025-11-05 19:59:23.344 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 19:59:23.344 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-05T19:59:23.343164400, status=500, error=Erro interno do servidor, m (truncated)...]
2025-11-05 19:59:23.345 [http-nio-8080-exec-4] WARN  [b48c7caa617a49d2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Failed to evaluate expression 'hasRole('ADMIN') or @produtoService.isOwner(#id)']
2025-11-05 19:59:23.346 [http-nio-8080-exec-4] DEBUG [b48c7caa617a49d2] o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-05 19:59:48.270 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:59:48.271 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.272 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.274 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=acb24f9c4bd6dddaad1f85123ff1239d
2025-11-05 19:59:48.294 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-05 19:59:48.296 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.296 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.297 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-05 19:59:48.310 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=b42c2aafeeddf39bd437cb542a18f37c
2025-11-05 19:59:48.310 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.311 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.312 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=b42c2aafeeddf39bd437cb542a18f37c
2025-11-05 19:59:48.332 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp
2025-11-05 19:59:48.332 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/background.gif
2025-11-05 19:59:48.332 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.332 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.333 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.333 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.335 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp
2025-11-05 19:59:48.335 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/background.gif
2025-11-05 19:59:48.398 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:48.399 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.400 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.401 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:48.451 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 19:59:48.452 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:48.452 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.457 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:59:48.459 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:59:48.461 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:48.461 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:59:50.170 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/login.do?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.171 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.171 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.172 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/login.do?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.214 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tables.do?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.214 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/header.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.215 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.215 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.216 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.216 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.216 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tables.do?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.216 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/header.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.217 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/help.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.217 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/query.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.218 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.218 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.218 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.218 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.219 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/query.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.219 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/help.jsp?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:50.237 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_disconnect.gif
2025-11-05 19:59:50.240 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_refresh.gif
2025-11-05 19:59:50.240 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_line.gif
2025-11-05 19:59:50.240 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.241 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_rollback.gif
2025-11-05 19:59:50.242 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.243 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_commit.gif
2025-11-05 19:59:50.243 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.244 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.244 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.244 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.244 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.245 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.245 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_refresh.gif
2025-11-05 19:59:50.245 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_disconnect.gif
2025-11-05 19:59:50.245 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.245 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.246 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_line.gif
2025-11-05 19:59:50.246 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_rollback.gif
2025-11-05 19:59:50.246 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_commit.gif
2025-11-05 19:59:50.253 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run.gif
2025-11-05 19:59:50.253 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run_selected.gif
2025-11-05 19:59:50.253 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_stop.gif
2025-11-05 19:59:50.253 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.254 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.254 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.255 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.255 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_help.gif
2025-11-05 19:59:50.255 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_history.gif
2025-11-05 19:59:50.256 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run.gif
2025-11-05 19:59:50.256 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run_selected.gif
2025-11-05 19:59:50.256 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.256 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.257 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_help.gif
2025-11-05 19:59:50.256 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.260 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.260 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.260 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.262 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_history.gif
2025-11-05 19:59:50.262 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_stop.gif
2025-11-05 19:59:50.276 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree.js
2025-11-05 19:59:50.276 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.277 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.278 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree.js
2025-11-05 19:59:50.310 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_database.gif
2025-11-05 19:59:50.310 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_column.gif
2025-11-05 19:59:50.311 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.310 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_plus.gif
2025-11-05 19:59:50.310 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_table.gif
2025-11-05 19:59:50.310 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_minus.gif
2025-11-05 19:59:50.311 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_empty.gif
2025-11-05 19:59:50.311 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.311 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.311 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.311 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.312 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.312 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.312 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.312 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.312 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.312 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.313 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_plus.gif
2025-11-05 19:59:50.313 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_column.gif
2025-11-05 19:59:50.313 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_database.gif
2025-11-05 19:59:50.313 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_minus.gif
2025-11-05 19:59:50.313 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.314 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_empty.gif
2025-11-05 19:59:50.314 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_table.gif
2025-11-05 19:59:50.319 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_users.gif
2025-11-05 19:59:50.321 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_info.gif
2025-11-05 19:59:50.321 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_folder.gif
2025-11-05 19:59:50.322 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.322 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.323 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.323 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.323 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_type.gif
2025-11-05 19:59:50.323 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.323 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.324 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.324 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_folder.gif
2025-11-05 19:59:50.324 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.325 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index.gif
2025-11-05 19:59:50.326 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_info.gif
2025-11-05 19:59:50.326 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.326 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index_az.gif
2025-11-05 19:59:50.326 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_users.gif
2025-11-05 19:59:50.326 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_type.gif
2025-11-05 19:59:50.327 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.327 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.328 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index.gif
2025-11-05 19:59:50.328 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.330 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index_az.gif
2025-11-05 19:59:50.334 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_user.gif
2025-11-05 19:59:50.335 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_view.gif
2025-11-05 19:59:50.335 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.336 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.336 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.336 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.337 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_user.gif
2025-11-05 19:59:50.337 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_view.gif
2025-11-05 19:59:50.354 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-05 19:59:50.354 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:50.355 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.356 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:59:50.359 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-05 19:59:50.360 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:50.361 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-05 19:59:53.967 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:53.968 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:53.968 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:53.970 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=461f5106f2ad0f193888478bde3aaef8
2025-11-05 19:59:54.001 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-05 19:59:54.002 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 19:59:54.002 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 19:59:54.003 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-05 20:00:40.890 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-05 20:00:40.892 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-05 20:00:40.893 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-05 20:00:40.894 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-05 20:00:40.895 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-05 20:00:40.895 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#login(LoginRequest)
2025-11-05 20:00:40.898 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(email=admin@delivery.com, password=123456)]
2025-11-05 20:00:41.002 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:00:41.110 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-05 20:00:41.112 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:00:41.126 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:00:41.127 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJub21lIjoiQWRtaW4gU2lzdGVtYSIsInVzZXJ (truncated)...]
2025-11-05 20:00:41.130 [http-nio-8080-exec-6] DEBUG [a6d954a04ec74c74] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:01:20.482 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/produtos/6
2025-11-05 20:01:20.489 [http-nio-8080-exec-8] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:01:20.496 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 3B18D30E1D065C57CF90785B5AABF727
2025-11-05 20:01:20.498 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/produtos/6
2025-11-05 20:01:20.499 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.web.servlet.DispatcherServlet - PUT "/api/produtos/6", parameters={}
2025-11-05 20:01:20.499 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#atualizarProduto(Long, ProdutoDTO)
2025-11-05 20:01:20.500 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProdutoDTO(nome=X-Salada, descricao=Hamburguer, queijo, alface, tomate e cebola, preco=19.90, catego (truncated)...]
2025-11-05 20:01:20.502 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO); target is of class [com.deliverytech.delivery_api.controller.ProdutoController] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 20:01:20.524 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    where
        p1_0.id=?
2025-11-05 20:01:20.588 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] org.hibernate.SQL - 
    /* update
        for com.deliverytech.delivery_api.model.Produto */update produto 
    set
        categoria=?,
        descricao=?,
        disponivel=?,
        imagem_url=?,
        nome=?,
        preco=?,
        restaurante_id=? 
    where
        id=?
2025-11-05 20:01:20.601 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:01:20.608 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=ProdutoResponseDTO(id=6, nome=X-Salada, descricao=Hamburguer,  (truncated)...]
2025-11-05 20:01:20.613 [http-nio-8080-exec-8] DEBUG [47bbeae9e7c74f26] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:02:48.160 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/produtos/6
2025-11-05 20:02:48.165 [http-nio-8080-exec-6] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:02:48.174 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from C0572EED4E0887CB62AC93D856DA7160
2025-11-05 20:02:48.177 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/produtos/6
2025-11-05 20:02:48.178 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.web.servlet.DispatcherServlet - PUT "/api/produtos/6", parameters={}
2025-11-05 20:02:48.178 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#atualizarProduto(Long, ProdutoDTO)
2025-11-05 20:02:48.179 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProdutoDTO(nome=X-Egg Salada, descricao=Hamburguer, queijo, ovo, alface, tomate e cebola, preco=25.9 (truncated)...]
2025-11-05 20:02:48.180 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO); target is of class [com.deliverytech.delivery_api.controller.ProdutoController] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 20:02:48.182 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    where
        p1_0.id=?
2025-11-05 20:02:48.186 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] org.hibernate.SQL - 
    /* update
        for com.deliverytech.delivery_api.model.Produto */update produto 
    set
        categoria=?,
        descricao=?,
        disponivel=?,
        imagem_url=?,
        nome=?,
        preco=?,
        restaurante_id=? 
    where
        id=?
2025-11-05 20:02:48.189 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:02:48.190 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=ProdutoResponseDTO(id=6, nome=X-Egg Salada, descricao=Hamburgu (truncated)...]
2025-11-05 20:02:48.191 [http-nio-8080-exec-6] DEBUG [7419e19cacef4ed7] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:12:52.600 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/2/produtos
2025-11-05 20:12:52.606 [http-nio-8080-exec-10] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:12:52.613 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 89020C09943FB7FCE528F39F1BC4111A
2025-11-05 20:12:52.614 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/produtos/2/produtos
2025-11-05 20:12:52.615 [http-nio-8080-exec-10] DEBUG [56c9d6939bd94884] o.s.web.servlet.DispatcherServlet - GET "/api/produtos/2/produtos", parameters={}
2025-11-05 20:12:52.615 [http-nio-8080-exec-10] DEBUG [56c9d6939bd94884] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#buscarProdutosPorRestaurante(Long)
2025-11-05 20:12:52.626 [http-nio-8080-exec-10] DEBUG [56c9d6939bd94884] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    left join
        restaurante r1_0 
            on r1_0.id=p1_0.restaurante_id 
    where
        r1_0.id=? 
        and p1_0.disponivel
2025-11-05 20:12:52.634 [http-nio-8080-exec-10] DEBUG [56c9d6939bd94884] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:12:52.635 [http-nio-8080-exec-10] DEBUG [56c9d6939bd94884] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=[ProdutoResponseDTO(id=4, nome=X-Burger, descricao=Hamburguer, (truncated)...]
2025-11-05 20:12:52.639 [http-nio-8080-exec-10] DEBUG [56c9d6939bd94884] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:13:16.914 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/1/produtos
2025-11-05 20:13:16.918 [http-nio-8080-exec-9] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:13:16.924 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 4A0E0CE6C893BFB2458C7E782C706257
2025-11-05 20:13:16.925 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/produtos/1/produtos
2025-11-05 20:13:16.926 [http-nio-8080-exec-9] DEBUG [edb37ed734d64919] o.s.web.servlet.DispatcherServlet - GET "/api/produtos/1/produtos", parameters={}
2025-11-05 20:13:16.926 [http-nio-8080-exec-9] DEBUG [edb37ed734d64919] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#buscarProdutosPorRestaurante(Long)
2025-11-05 20:13:16.929 [http-nio-8080-exec-9] DEBUG [edb37ed734d64919] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    left join
        restaurante r1_0 
            on r1_0.id=p1_0.restaurante_id 
    where
        r1_0.id=? 
        and p1_0.disponivel
2025-11-05 20:13:16.934 [http-nio-8080-exec-9] DEBUG [edb37ed734d64919] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:13:16.934 [http-nio-8080-exec-9] DEBUG [edb37ed734d64919] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=[ProdutoResponseDTO(id=1, nome=Pizza Margherita, descricao=Mol (truncated)...]
2025-11-05 20:13:16.936 [http-nio-8080-exec-9] DEBUG [edb37ed734d64919] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:17:02.769 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-05 20:17:02.771 [Thread-7] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-05 20:17:02.771 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-05 20:17:02.835 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-05 20:17:02.835 [Thread-7] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-05 20:17:02.841 [Thread-7] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 20:17:02.841 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 20:17:02.844 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 20:17:02.845 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 20:17:02.846 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 20:17:02.846 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 20:17:02.847 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 20:17:02.848 [Thread-7] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-05 20:17:02.848 [Thread-7] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-05 20:17:02.849 [Thread-7] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-05 20:17:02.935 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 38736 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-05 20:17:02.935 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-05 20:17:02.935 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-05 20:17:03.321 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 20:17:03.322 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-05 20:17:03.343 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 5 JPA repository interfaces.
2025-11-05 20:17:03.352 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-05 20:17:03.352 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-05 20:17:03.356 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 20:17:03.356 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 20:17:03.360 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 20:17:03.361 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 20:17:03.361 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-05 20:17:03.361 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-11-05 20:17:03.473 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-05 20:17:03.473 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-05 20:17:03.473 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-05 20:17:03.473 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-05 20:17:03.508 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-05 20:17:03.509 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 572 ms
2025-11-05 20:17:03.590 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-05 20:17:03.590 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-05 20:17:03.592 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn22: url=jdbc:h2:mem:deliverydb user=SA
2025-11-05 20:17:03.592 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-05 20:17:03.592 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-05 20:17:03.704 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-05 20:17:03.720 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-05 20:17:03.721 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-05 20:17:03.722 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-05 20:17:03.723 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-05 20:17:03.725 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-05 20:17:03.726 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-05 20:17:03.728 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 20:17:03.729 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-05 20:17:03.732 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-05 20:17:03.787 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-05 20:17:03.787 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-05 20:17:03.875 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-05 20:17:03.876 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-05 20:17:03.939 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-05 20:17:03.939 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.955 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-05 20:17:03.956 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.956 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-05 20:17:03.956 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.968 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-05 20:17:03.969 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.970 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-05 20:17:03.971 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.971 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-05 20:17:03.971 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.989 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 20:17:03.989 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:03.990 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-05 20:17:03.991 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:04.039 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-05 20:17:04.090 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-05 20:17:04.138 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-05 20:17:04.174 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-05 20:17:04.194 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-05 20:17:04.201 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-05 20:17:04.255 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-05 20:17:04.277 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-05 20:17:04.287 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-05 20:17:04.292 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-05 20:17:04.299 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.4 seconds (process running for 1961.046)
2025-11-05 20:17:04.304 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 20:17:04.308 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-05 20:17:04.312 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 20:17:04.314 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-05 20:17:04.339 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-05 20:17:04.344 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-05 20:17:04.345 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-05 20:17:04.353 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-05 20:17:04.356 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-05 20:17:04.361 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-05 20:17:04.366 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-05 20:17:04.366 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-05 20:17:21.621 [http-nio-8080-exec-2] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-05 20:17:21.621 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-05 20:17:21.622 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-05 20:17:21.622 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-05 20:17:21.622 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-05 20:17:21.624 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6efe7ba
2025-11-05 20:17:21.626 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d3de0bb
2025-11-05 20:17:21.626 [http-nio-8080-exec-2] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-05 20:17:21.627 [http-nio-8080-exec-2] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-05 20:17:21.628 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/1/produtos
2025-11-05 20:17:21.636 [http-nio-8080-exec-2] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:17:21.644 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from BA97CEF07D8FCF265C6FB3C0B76127F9
2025-11-05 20:17:21.647 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/produtos/1/produtos
2025-11-05 20:17:21.648 [http-nio-8080-exec-2] DEBUG [0a8bbd6a15374332] o.s.web.servlet.DispatcherServlet - GET "/api/produtos/1/produtos", parameters={}
2025-11-05 20:17:21.649 [http-nio-8080-exec-2] DEBUG [0a8bbd6a15374332] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#buscarProdutosPorRestaurante(Long)
2025-11-05 20:17:21.655 [http-nio-8080-exec-2] DEBUG [0a8bbd6a15374332] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    left join
        restaurante r1_0 
            on r1_0.id=p1_0.restaurante_id 
    where
        r1_0.id=? 
        and p1_0.disponivel
2025-11-05 20:17:21.667 [http-nio-8080-exec-2] DEBUG [0a8bbd6a15374332] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:17:21.668 [http-nio-8080-exec-2] DEBUG [0a8bbd6a15374332] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=[ProdutoResponseDTO(id=1, nome=Pizza Margherita, descricao=Mol (truncated)...]
2025-11-05 20:17:21.673 [http-nio-8080-exec-2] DEBUG [0a8bbd6a15374332] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:17:56.364 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/produtos/6
2025-11-05 20:17:56.369 [http-nio-8080-exec-3] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:17:56.377 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from B20D89C8D033B5334B218AEDC712E87B
2025-11-05 20:17:56.378 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/produtos/6
2025-11-05 20:17:56.379 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.web.servlet.DispatcherServlet - PUT "/api/produtos/6", parameters={}
2025-11-05 20:17:56.379 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#atualizarProduto(Long, ProdutoDTO)
2025-11-05 20:17:56.388 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProdutoDTO(nome=X-Egg Salada Bacon, descricao=Hamburguer, queijo, ovo, bacon, alface, tomate e cebol (truncated)...]
2025-11-05 20:17:56.398 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO); target is of class [com.deliverytech.delivery_api.controller.ProdutoController] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-05 20:17:56.401 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    where
        p1_0.id=?
2025-11-05 20:17:56.406 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] org.hibernate.SQL - 
    /* update
        for com.deliverytech.delivery_api.model.Produto */update produto 
    set
        categoria=?,
        descricao=?,
        disponivel=?,
        imagem_url=?,
        nome=?,
        preco=?,
        restaurante_id=? 
    where
        id=?
2025-11-05 20:17:56.408 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:17:56.409 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=ProdutoResponseDTO(id=6, nome=X-Egg Salada Bacon, descricao=Ha (truncated)...]
2025-11-05 20:17:56.410 [http-nio-8080-exec-3] DEBUG [31297f2ec67a4e33] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-05 20:18:39.881 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/produtos/2/produtos
2025-11-05 20:18:39.886 [http-nio-8080-exec-4] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-05 20:18:39.890 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from EA692E3BC6854D3A3788ABE4FA35B1D0
2025-11-05 20:18:39.892 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/produtos/2/produtos
2025-11-05 20:18:39.893 [http-nio-8080-exec-4] DEBUG [393aedcc33b749d5] o.s.web.servlet.DispatcherServlet - GET "/api/produtos/2/produtos", parameters={}
2025-11-05 20:18:39.893 [http-nio-8080-exec-4] DEBUG [393aedcc33b749d5] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ProdutoController#buscarProdutosPorRestaurante(Long)
2025-11-05 20:18:39.896 [http-nio-8080-exec-4] DEBUG [393aedcc33b749d5] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.imagem_url,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    left join
        restaurante r1_0 
            on r1_0.id=p1_0.restaurante_id 
    where
        r1_0.id=? 
        and p1_0.disponivel
2025-11-05 20:18:39.899 [http-nio-8080-exec-4] DEBUG [393aedcc33b749d5] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-05 20:18:39.899 [http-nio-8080-exec-4] DEBUG [393aedcc33b749d5] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=[ProdutoResponseDTO(id=4, nome=X-Burger, descricao=Hamburguer, (truncated)...]
2025-11-05 20:18:39.900 [http-nio-8080-exec-4] DEBUG [393aedcc33b749d5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
