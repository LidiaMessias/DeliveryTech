2025-11-07 10:16:24.379 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 4060 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-07 10:16:24.392 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-07 10:16:24.395 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-07 10:16:24.476 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-07 10:16:24.476 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-07 10:16:27.467 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:16:27.471 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-07 10:16:27.759 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 269 ms. Found 5 JPA repository interfaces.
2025-11-07 10:16:27.792 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:16:27.794 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-07 10:16:27.828 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:16:27.830 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:16:27.833 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:16:27.834 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:16:27.835 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:16:27.835 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-07 10:16:29.116 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-07 10:16:29.141 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-07 10:16:29.144 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-07 10:16:29.146 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-07 10:16:29.240 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-07 10:16:29.240 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4763 ms
2025-11-07 10:16:30.508 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-07 10:16:30.568 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-07 10:16:30.848 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:deliverydb user=SA
2025-11-07 10:16:30.851 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-07 10:16:30.887 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-07 10:16:32.318 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-07 10:16:32.321 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-07 10:16:32.323 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-07 10:16:32.323 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-07 10:16:32.324 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-07 10:16:32.325 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-07 10:16:32.336 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-07 10:16:32.348 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-07 10:16:32.350 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-07 10:16:32.353 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-07 10:16:32.355 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-07 10:16:32.357 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-07 10:16:32.360 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-07 10:16:32.373 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-07 10:16:32.376 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-07 10:16:32.379 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-07 10:16:32.381 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-07 10:16:32.386 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:16:32.953 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-07 10:16:32.955 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-07 10:16:33.058 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-07 10:16:34.038 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-07 10:16:34.040 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-07 10:16:34.467 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-07 10:16:34.471 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.488 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-07 10:16:34.489 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.489 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-07 10:16:34.490 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.522 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-07 10:16:34.523 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.525 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-07 10:16:34.527 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.527 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-07 10:16:34.528 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.552 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:16:34.552 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.554 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:16:34.555 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-07 10:16:34.987 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-07 10:16:35.135 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-07 10:16:35.853 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-07 10:16:36.172 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-07 10:16:36.334 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-07 10:16:36.451 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-07 10:16:37.089 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-07 10:16:37.231 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-07 10:16:37.344 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-07 10:16:37.392 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-07 10:16:37.424 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 13.743 seconds (process running for 14.424)
2025-11-07 10:16:37.666 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Cliente x */ select
            count(*) 
        from
            cliente c1_0
2025-11-07 10:16:37.744 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Restaurante x */ select
            count(*) 
        from
            restaurante r1_0
2025-11-07 10:16:37.853 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-07 10:16:37.888 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-07 10:16:37.933 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-07 10:16:37.944 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-07 10:16:37.951 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-07 10:16:37.957 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-07 10:16:37.967 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-07 10:18:27.791 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console
2025-11-07 10:18:27.812 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:27.817 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:27.831 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console
2025-11-07 10:18:27.944 [http-nio-8080-exec-1] WARN  [e1230aec08b94882] o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [103] milliseconds.
2025-11-07 10:18:27.968 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/
2025-11-07 10:18:27.969 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:27.970 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:27.971 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/
2025-11-07 10:18:28.018 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-07 10:18:28.020 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:28.020 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:28.022 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-07 10:18:28.057 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=4721b499a654ebae65800e1550578308
2025-11-07 10:18:28.058 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:28.059 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:28.061 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=4721b499a654ebae65800e1550578308
2025-11-07 10:18:28.090 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/background.gif
2025-11-07 10:18:28.091 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:28.091 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:28.093 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/background.gif
2025-11-07 10:18:34.398 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console
2025-11-07 10:18:34.400 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:34.400 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:34.403 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console
2025-11-07 10:18:34.416 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/
2025-11-07 10:18:34.417 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:34.418 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:34.420 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/
2025-11-07 10:18:34.477 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:34.478 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:34.479 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:34.481 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:36.122 [http-nio-8080-exec-9] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-07 10:18:36.122 [http-nio-8080-exec-9] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-07 10:18:36.123 [http-nio-8080-exec-9] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-07 10:18:36.124 [http-nio-8080-exec-9] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-07 10:18:36.124 [http-nio-8080-exec-9] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-07 10:18:36.127 [http-nio-8080-exec-9] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@ccc7fef
2025-11-07 10:18:36.128 [http-nio-8080-exec-9] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@578286df
2025-11-07 10:18:36.129 [http-nio-8080-exec-9] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-07 10:18:36.130 [http-nio-8080-exec-9] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-11-07 10:18:36.132 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-07 10:18:36.133 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:36.134 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:36.145 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:18:36.157 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-07 10:18:36.159 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:36.160 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:18:37.749 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/login.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.750 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.752 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.754 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/login.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.813 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/header.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.813 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tables.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.815 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.815 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.815 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.815 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.816 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/header.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.816 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/help.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.816 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tables.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.817 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/query.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.817 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.817 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.818 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.818 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.819 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/query.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.819 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/help.jsp?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:37.846 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_disconnect.gif
2025-11-07 10:18:37.850 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.852 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.851 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_line.gif
2025-11-07 10:18:37.852 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_disconnect.gif
2025-11-07 10:18:37.851 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_refresh.gif
2025-11-07 10:18:37.853 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_rollback.gif
2025-11-07 10:18:37.855 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.857 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.857 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.857 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.857 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.857 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.858 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_help.gif
2025-11-07 10:18:37.858 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_refresh.gif
2025-11-07 10:18:37.859 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_rollback.gif
2025-11-07 10:18:37.859 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.863 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.859 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_line.gif
2025-11-07 10:18:37.862 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run_selected.gif
2025-11-07 10:18:37.867 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_help.gif
2025-11-07 10:18:37.871 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_history.gif
2025-11-07 10:18:37.868 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_stop.gif
2025-11-07 10:18:37.870 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.872 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.873 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.874 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.874 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.874 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.875 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_history.gif
2025-11-07 10:18:37.877 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run_selected.gif
2025-11-07 10:18:37.877 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_commit.gif
2025-11-07 10:18:37.878 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_stop.gif
2025-11-07 10:18:37.883 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run.gif
2025-11-07 10:18:37.887 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.887 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.887 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.887 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.889 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_commit.gif
2025-11-07 10:18:37.889 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run.gif
2025-11-07 10:18:37.920 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree.js
2025-11-07 10:18:37.921 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.921 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.922 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree.js
2025-11-07 10:18:37.951 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_minus.gif
2025-11-07 10:18:37.953 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.955 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_database.gif
2025-11-07 10:18:37.955 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_empty.gif
2025-11-07 10:18:37.957 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_plus.gif
2025-11-07 10:18:37.957 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.957 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.957 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.955 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_table.gif
2025-11-07 10:18:37.957 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.957 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.957 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_column.gif
2025-11-07 10:18:37.957 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.957 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.958 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.958 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_minus.gif
2025-11-07 10:18:37.958 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.958 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_database.gif
2025-11-07 10:18:37.958 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.958 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_empty.gif
2025-11-07 10:18:37.958 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_plus.gif
2025-11-07 10:18:37.959 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.960 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_column.gif
2025-11-07 10:18:37.963 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_table.gif
2025-11-07 10:18:37.979 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_folder.gif
2025-11-07 10:18:37.983 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index.gif
2025-11-07 10:18:37.980 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_users.gif
2025-11-07 10:18:37.980 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_info.gif
2025-11-07 10:18:37.983 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index_az.gif
2025-11-07 10:18:37.982 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_type.gif
2025-11-07 10:18:37.986 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.984 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.984 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.987 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.986 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.986 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:37.987 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.987 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.988 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.988 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.988 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.988 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:37.989 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index.gif
2025-11-07 10:18:37.989 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index_az.gif
2025-11-07 10:18:37.989 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_info.gif
2025-11-07 10:18:37.990 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_users.gif
2025-11-07 10:18:37.989 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_folder.gif
2025-11-07 10:18:37.989 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_type.gif
2025-11-07 10:18:37.999 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_view.gif
2025-11-07 10:18:37.999 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_user.gif
2025-11-07 10:18:38.000 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:38.000 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:38.001 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:38.001 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:38.002 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_user.gif
2025-11-07 10:18:38.002 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_view.gif
2025-11-07 10:18:38.017 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-07 10:18:38.018 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:38.019 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:38.021 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:18:38.024 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-07 10:18:38.026 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:38.027 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:18:46.110 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:46.111 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:46.112 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:46.114 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:46.152 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-07 10:18:46.152 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-07 10:18:46.152 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:46.152 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:46.153 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:46.153 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:46.154 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-07 10:18:46.154 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-07 10:18:56.169 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:56.172 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:56.172 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:56.173 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:18:56.195 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-07 10:18:56.195 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-07 10:18:56.196 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:56.196 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:18:56.196 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:56.196 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:18:56.197 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-07 10:18:56.199 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-07 10:20:04.780 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:20:04.781 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:04.782 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:04.783 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:20:04.803 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-07 10:20:04.805 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:04.805 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:04.806 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-07 10:20:04.806 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-07 10:20:04.806 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:04.807 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:04.808 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-07 10:20:19.177 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-07 10:20:19.185 [Thread-5] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-07 10:20:19.188 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:19.262 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-07 10:20:19.263 [Thread-5] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:19.287 [Thread-5] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:20:19.289 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-07 10:20:19.293 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-07 10:20:19.295 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-07 10:20:19.297 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-07 10:20:19.298 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-07 10:20:19.299 [Thread-5] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-07 10:20:19.310 [Thread-5] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-07 10:20:19.311 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-07 10:20:19.315 [Thread-5] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-07 10:20:19.438 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 4060 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-07 10:20:19.439 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-07 10:20:19.439 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-07 10:20:20.032 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:20:20.033 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-07 10:20:20.072 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2025-11-07 10:20:20.075 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:20:20.077 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-07 10:20:20.085 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:20.086 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:20.086 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:20.087 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:20.087 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:20.087 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-11-07 10:20:20.258 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-07 10:20:20.259 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:20.259 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-07 10:20:20.260 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-07 10:20:20.289 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-07 10:20:20.289 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 846 ms
2025-11-07 10:20:20.424 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-07 10:20:20.426 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-07 10:20:20.429 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn11: url=jdbc:h2:mem:deliverydb user=SA
2025-11-07 10:20:20.429 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-07 10:20:20.431 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-07 10:20:20.630 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-07 10:20:20.631 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-07 10:20:20.632 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-07 10:20:20.633 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-07 10:20:20.633 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-07 10:20:20.633 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-07 10:20:20.635 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-07 10:20:20.637 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-07 10:20:20.640 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-07 10:20:20.642 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-07 10:20:20.646 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-07 10:20:20.648 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-07 10:20:20.650 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-07 10:20:20.653 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-07 10:20:20.655 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-07 10:20:20.657 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-07 10:20:20.659 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-07 10:20:20.662 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:20:20.735 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-07 10:20:20.735 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-07 10:20:20.852 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-07 10:20:20.852 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-07 10:20:20.953 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-07 10:20:20.954 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.957 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-07 10:20:20.958 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.958 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-07 10:20:20.958 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.975 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-07 10:20:20.975 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.978 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-07 10:20:20.979 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.979 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-07 10:20:20.980 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.996 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:20:20.996 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:20.998 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:20:20.998 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:21.097 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-07 10:20:21.149 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-07 10:20:21.249 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-07 10:20:21.331 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-07 10:20:21.383 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-07 10:20:21.394 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-07 10:20:21.512 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-07 10:20:21.548 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-07 10:20:21.567 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:21.572 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-07 10:20:21.577 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 2.188 seconds (process running for 238.578)
2025-11-07 10:20:21.586 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Cliente x */ select
            count(*) 
        from
            cliente c1_0
2025-11-07 10:20:21.599 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Restaurante x */ select
            count(*) 
        from
            restaurante r1_0
2025-11-07 10:20:21.624 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-07 10:20:21.630 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-07 10:20:21.636 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-07 10:20:21.641 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-07 10:20:21.645 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-07 10:20:21.652 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-07 10:20:21.657 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-07 10:20:21.664 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-07 10:20:37.433 [File Watcher] INFO  [] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-07 10:20:37.436 [Thread-7] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-07 10:20:37.438 [tomcat-shutdown] INFO  [] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:37.491 [tomcat-shutdown] INFO  [] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-07 10:20:37.492 [Thread-7] INFO  [] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:37.497 [Thread-7] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:20:37.497 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-07 10:20:37.499 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-07 10:20:37.500 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-07 10:20:37.500 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-07 10:20:37.501 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-07 10:20:37.501 [Thread-7] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-07 10:20:37.502 [Thread-7] WARN  [] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-07 10:20:37.502 [Thread-7] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-07 10:20:37.504 [Thread-7] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-07 10:20:37.601 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 4060 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-07 10:20:37.601 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-07 10:20:37.601 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-07 10:20:38.119 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:20:38.119 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-07 10:20:38.153 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 5 JPA repository interfaces.
2025-11-07 10:20:38.157 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:20:38.158 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-07 10:20:38.164 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:38.165 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:38.166 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:38.167 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:38.167 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:20:38.168 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-11-07 10:20:38.324 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-07 10:20:38.325 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:38.327 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-07 10:20:38.327 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-07 10:20:38.347 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-07 10:20:38.347 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 743 ms
2025-11-07 10:20:38.495 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-07 10:20:38.498 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-07 10:20:38.501 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn21: url=jdbc:h2:mem:deliverydb user=SA
2025-11-07 10:20:38.501 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-07 10:20:38.502 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-07 10:20:38.665 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente cascade 
2025-11-07 10:20:38.666 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido cascade 
2025-11-07 10:20:38.667 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido cascade 
2025-11-07 10:20:38.667 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto cascade 
2025-11-07 10:20:38.667 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante cascade 
2025-11-07 10:20:38.669 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario cascade 
2025-11-07 10:20:38.670 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo boolean not null,
        data_criacao timestamp(6),
        id bigint generated by default as identity,
        email varchar(255) not null unique,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    )
2025-11-07 10:20:38.671 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario numeric(38,2) not null,
        quantidade integer not null,
        subtotal numeric(38,2) not null,
        id bigint generated by default as identity,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-11-07 10:20:38.672 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    )
2025-11-07 10:20:38.674 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    )
2025-11-07 10:20:38.676 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        tempo_entrega integer,
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
2025-11-07 10:20:38.677 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo boolean not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        restaurante_id bigint,
        email varchar(255) not null unique,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    )
2025-11-07 10:20:38.680 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
2025-11-07 10:20:38.681 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
2025-11-07 10:20:38.683 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
2025-11-07 10:20:38.685 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
2025-11-07 10:20:38.686 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-11-07 10:20:38.688 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:20:38.762 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-07 10:20:38.762 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-07 10:20:38.846 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-07 10:20:38.847 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-07 10:20:38.944 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-07 10:20:38.945 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.948 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-07 10:20:38.949 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.949 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-07 10:20:38.950 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.964 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-07 10:20:38.965 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.966 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-07 10:20:38.966 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.967 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-07 10:20:38.967 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.982 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:20:38.983 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:38.984 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:20:38.985 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-07 10:20:39.060 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-07 10:20:39.096 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-07 10:20:39.175 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-07 10:20:39.228 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-07 10:20:39.255 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-07 10:20:39.266 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-07 10:20:39.362 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:deliverydb'
2025-11-07 10:20:39.392 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-07 10:20:39.413 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-07 10:20:39.418 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-07 10:20:39.428 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 1.865 seconds (process running for 256.428)
2025-11-07 10:20:39.433 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Cliente x */ select
            count(*) 
        from
            cliente c1_0
2025-11-07 10:20:39.464 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-07 10:20:39.493 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-07 10:20:39.499 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Restaurante x */ select
            count(*) 
        from
            restaurante r1_0
2025-11-07 10:20:39.502 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-07 10:20:39.505 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-07 10:20:39.531 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-07 10:20:39.535 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-07 10:20:39.542 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\'
2025-11-07 10:20:39.548 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    fetch
        first ? rows only
2025-11-07 10:20:39.554 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-07 10:20:39.559 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-07 10:20:39.566 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-07 10:20:39.570 [restartedMain] INFO  [] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-07 10:20:45.557 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:20:45.558 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.558 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.560 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=f4a3c18363f6e4e58587416b09d3d76f
2025-11-07 10:20:45.579 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-07 10:20:45.580 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.581 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.582 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-07 10:20:45.593 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=a3add9738820ba88f46221b94f1b6374
2025-11-07 10:20:45.593 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.593 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.595 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=a3add9738820ba88f46221b94f1b6374
2025-11-07 10:20:45.623 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp
2025-11-07 10:20:45.623 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/background.gif
2025-11-07 10:20:45.624 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.624 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.625 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.625 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.625 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp
2025-11-07 10:20:45.625 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/background.gif
2025-11-07 10:20:45.662 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/login.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:45.662 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.663 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.664 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/login.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:45.695 [http-nio-8080-exec-7] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-07 10:20:45.695 [http-nio-8080-exec-7] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-07 10:20:45.695 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-07 10:20:45.695 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-07 10:20:45.695 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-07 10:20:45.698 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26a78930
2025-11-07 10:20:45.699 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@16a05a0d
2025-11-07 10:20:45.699 [http-nio-8080-exec-7] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-07 10:20:45.700 [http-nio-8080-exec-7] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-07 10:20:45.702 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-07 10:20:45.702 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:45.703 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.707 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:20:45.709 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-07 10:20:45.710 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:45.711 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:20:47.699 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/login.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.700 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.701 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.702 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/login.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.745 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/header.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.746 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tables.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.748 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.749 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.749 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.751 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.751 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tables.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.751 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/header.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.751 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/query.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.752 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/help.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.752 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.753 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.753 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.755 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.755 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/query.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.755 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/help.jsp?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:47.766 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_disconnect.gif
2025-11-07 10:20:47.769 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_line.gif
2025-11-07 10:20:47.769 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.770 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.772 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.773 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.774 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_disconnect.gif
2025-11-07 10:20:47.775 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_line.gif
2025-11-07 10:20:47.813 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_commit.gif
2025-11-07 10:20:47.815 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_refresh.gif
2025-11-07 10:20:47.825 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.815 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run.gif
2025-11-07 10:20:47.831 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.815 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_rollback.gif
2025-11-07 10:20:47.818 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_run_selected.gif
2025-11-07 10:20:47.825 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.829 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.833 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.832 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.833 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_commit.gif
2025-11-07 10:20:47.833 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.833 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.833 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_refresh.gif
2025-11-07 10:20:47.835 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run.gif
2025-11-07 10:20:47.836 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.835 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.840 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_run_selected.gif
2025-11-07 10:20:47.840 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_rollback.gif
2025-11-07 10:20:47.842 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_stop.gif
2025-11-07 10:20:47.848 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_history.gif
2025-11-07 10:20:47.850 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.845 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/icon_help.gif
2025-11-07 10:20:47.849 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.850 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.851 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.851 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.851 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_history.gif
2025-11-07 10:20:47.851 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_stop.gif
2025-11-07 10:20:47.851 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.854 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/icon_help.gif
2025-11-07 10:20:47.858 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree.js
2025-11-07 10:20:47.860 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.860 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.862 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree.js
2025-11-07 10:20:47.877 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_column.gif
2025-11-07 10:20:47.877 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_minus.gif
2025-11-07 10:20:47.877 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_database.gif
2025-11-07 10:20:47.877 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_empty.gif
2025-11-07 10:20:47.877 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_table.gif
2025-11-07 10:20:47.877 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_plus.gif
2025-11-07 10:20:47.879 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.879 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.880 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.879 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.879 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.879 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.881 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.880 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.881 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_database.gif
2025-11-07 10:20:47.880 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.881 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.881 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.881 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.882 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_empty.gif
2025-11-07 10:20:47.882 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_table.gif
2025-11-07 10:20:47.882 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_minus.gif
2025-11-07 10:20:47.883 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_plus.gif
2025-11-07 10:20:47.882 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_column.gif
2025-11-07 10:20:47.887 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_folder.gif
2025-11-07 10:20:47.888 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.888 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.890 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_folder.gif
2025-11-07 10:20:47.891 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_info.gif
2025-11-07 10:20:47.891 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_users.gif
2025-11-07 10:20:47.892 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.892 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.893 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.894 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index_az.gif
2025-11-07 10:20:47.895 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.895 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.893 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.894 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_type.gif
2025-11-07 10:20:47.894 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_index.gif
2025-11-07 10:20:47.897 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.898 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.897 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index_az.gif
2025-11-07 10:20:47.898 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.897 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_info.gif
2025-11-07 10:20:47.899 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_index.gif
2025-11-07 10:20:47.897 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_users.gif
2025-11-07 10:20:47.898 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.900 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_view.gif
2025-11-07 10:20:47.901 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_type.gif
2025-11-07 10:20:47.901 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.902 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.902 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_view.gif
2025-11-07 10:20:47.908 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/tree_user.gif
2025-11-07 10:20:47.909 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.909 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.911 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/tree_user.gif
2025-11-07 10:20:47.924 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-07 10:20:47.924 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:47.925 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.926 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:20:47.929 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-07 10:20:47.931 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:47.932 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 10:20:51.793 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:51.794 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:51.795 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:51.796 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:20:51.821 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-07 10:20:51.822 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:20:51.822 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:20:51.823 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-07 10:21:06.425 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /h2-console/query.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:21:06.426 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:21:06.426 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:21:06.427 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /h2-console/query.do?jsessionid=84be69ca5b2ab7ecc4785d4c53765702
2025-11-07 10:21:06.454 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/stylesheet.css
2025-11-07 10:21:06.454 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /h2-console/table.js
2025-11-07 10:21:06.454 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:21:06.454 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 10:21:06.455 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:21:06.455 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 10:21:06.455 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/table.js
2025-11-07 10:21:06.455 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /h2-console/stylesheet.css
2025-11-07 10:57:28.234 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 19516 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-07 10:57:28.238 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-07 10:57:28.239 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-07 10:57:28.317 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-07 10:57:28.318 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-07 10:57:30.572 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:57:30.575 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-07 10:57:30.856 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 261 ms. Found 5 JPA repository interfaces.
2025-11-07 10:57:30.890 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 10:57:30.893 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-07 10:57:30.923 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:57:30.925 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:57:30.926 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:57:30.927 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:57:30.928 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 10:57:30.928 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-11-07 10:57:32.235 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-07 10:57:32.260 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-07 10:57:32.265 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-07 10:57:32.266 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-07 10:57:32.361 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-07 10:57:32.362 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4042 ms
2025-11-07 10:57:33.644 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-07 10:57:33.704 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-07 10:57:34.194 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e589017
2025-11-07 10:57:34.198 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-07 10:57:34.266 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-07 10:57:34.268 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-07 10:57:35.714 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       drop 
       foreign key FK60ym08cfoysa17wrn1swyiuda
2025-11-07 10:57:35.748 [restartedMain] WARN  [] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table item_pedido 
       drop 
       foreign key FK60ym08cfoysa17wrn1swyiuda" via JDBC [Table 'deliverydb.item_pedido' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table item_pedido 
       drop 
       foreign key FK60ym08cfoysa17wrn1swyiuda" via JDBC [Table 'deliverydb.item_pedido' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.deliverytech.delivery_api.DeliveryApiApplication.main(DeliveryApiApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'deliverydb.item_pedido' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 129 common frames omitted
2025-11-07 10:57:35.753 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       drop 
       foreign key FKtk55mn6d6bvl5h0no5uagi3sf
2025-11-07 10:57:35.757 [restartedMain] WARN  [] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table item_pedido 
       drop 
       foreign key FKtk55mn6d6bvl5h0no5uagi3sf" via JDBC [Table 'deliverydb.item_pedido' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table item_pedido 
       drop 
       foreign key FKtk55mn6d6bvl5h0no5uagi3sf" via JDBC [Table 'deliverydb.item_pedido' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.deliverytech.delivery_api.DeliveryApiApplication.main(DeliveryApiApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'deliverydb.item_pedido' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 129 common frames omitted
2025-11-07 10:57:35.760 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       drop 
       foreign key FK30s8j2ktpay6of18lbyqn3632
2025-11-07 10:57:35.764 [restartedMain] WARN  [] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table pedido 
       drop 
       foreign key FK30s8j2ktpay6of18lbyqn3632" via JDBC [Table 'deliverydb.pedido' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table pedido 
       drop 
       foreign key FK30s8j2ktpay6of18lbyqn3632" via JDBC [Table 'deliverydb.pedido' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.deliverytech.delivery_api.DeliveryApiApplication.main(DeliveryApiApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'deliverydb.pedido' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 129 common frames omitted
2025-11-07 10:57:35.765 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       drop 
       foreign key FK3eud5cqmgsnltyk704hu3qj71
2025-11-07 10:57:35.768 [restartedMain] WARN  [] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table pedido 
       drop 
       foreign key FK3eud5cqmgsnltyk704hu3qj71" via JDBC [Table 'deliverydb.pedido' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table pedido 
       drop 
       foreign key FK3eud5cqmgsnltyk704hu3qj71" via JDBC [Table 'deliverydb.pedido' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.deliverytech.delivery_api.DeliveryApiApplication.main(DeliveryApiApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'deliverydb.pedido' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 129 common frames omitted
2025-11-07 10:57:35.770 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table produto 
       drop 
       foreign key FKb9jhjyghjcn25guim7q4pt8qx
2025-11-07 10:57:35.773 [restartedMain] WARN  [] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table produto 
       drop 
       foreign key FKb9jhjyghjcn25guim7q4pt8qx" via JDBC [Table 'deliverydb.produto' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table produto 
       drop 
       foreign key FKb9jhjyghjcn25guim7q4pt8qx" via JDBC [Table 'deliverydb.produto' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.deliverytech.delivery_api.DeliveryApiApplication.main(DeliveryApiApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'deliverydb.produto' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 129 common frames omitted
2025-11-07 10:57:35.775 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente
2025-11-07 10:57:35.785 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido
2025-11-07 10:57:35.791 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido
2025-11-07 10:57:35.798 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto
2025-11-07 10:57:35.805 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante
2025-11-07 10:57:35.812 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario
2025-11-07 10:57:35.827 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo bit not null,
        data_criacao datetime(6),
        id bigint not null auto_increment,
        email varchar(255) not null,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-11-07 10:57:35.925 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario decimal(38,2) not null,
        quantidade integer not null,
        subtotal decimal(38,2) not null,
        id bigint not null auto_increment,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-07 10:57:35.959 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal decimal(38,2),
        taxa_entrega decimal(38,2),
        valor_total decimal(38,2),
        cliente_id bigint,
        data_pedido datetime(6),
        id bigint not null auto_increment,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    ) engine=InnoDB
2025-11-07 10:57:35.999 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel bit not null,
        preco decimal(38,2),
        id bigint not null auto_increment,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-07 10:57:36.032 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo bit not null,
        avaliacao decimal(38,2),
        taxa_entrega decimal(38,2),
        tempo_entrega integer,
        id bigint not null auto_increment,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-07 10:57:36.066 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo bit not null,
        data_criacao datetime(6) not null,
        id bigint not null auto_increment,
        restaurante_id bigint,
        email varchar(255) not null,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    ) engine=InnoDB
2025-11-07 10:57:36.100 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table cliente 
       add constraint UKcmxo70m08n43599l3h0h07cc6 unique (email)
2025-11-07 10:57:36.153 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table usuario 
       add constraint UK5171l57faosmj8myawaucatdw unique (email)
2025-11-07 10:57:36.187 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido (id)
2025-11-07 10:57:36.286 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto (id)
2025-11-07 10:57:36.373 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente (id)
2025-11-07 10:57:36.473 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante (id)
2025-11-07 10:57:36.586 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante (id)
2025-11-07 10:57:36.690 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:57:37.252 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-07 10:57:37.254 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-07 10:57:37.370 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-07 10:57:38.310 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-07 10:57:38.311 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-07 10:57:38.700 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-07 10:57:38.703 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.725 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-07 10:57:38.726 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.727 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-07 10:57:38.727 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.760 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-07 10:57:38.761 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.763 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-07 10:57:38.764 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.765 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-07 10:57:38.765 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.787 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:57:38.789 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:38.791 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 10:57:38.792 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 10:57:39.232 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-07 10:57:39.382 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-07 10:57:39.976 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-07 10:57:40.268 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-07 10:57:40.442 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-07 10:57:40.545 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-07 10:57:41.184 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/deliverydb'
2025-11-07 10:57:41.286 [restartedMain] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #7 of file [C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes\data.sql]: ALTER TABLE usuario ALTER COLUMN id RESTART WITH 7
2025-11-07 10:57:41.317 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 10:57:41.325 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-07 10:57:41.339 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-07 10:57:41.352 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-07 10:57:41.383 [restartedMain] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-07 10:57:41.417 [restartedMain] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #7 of file [C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes\data.sql]: ALTER TABLE usuario ALTER COLUMN id RESTART WITH 7
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.deliverytech.delivery_api.DeliveryApiApplication.main(DeliveryApiApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of file [C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes\data.sql]: ALTER TABLE usuario ALTER COLUMN id RESTART WITH 7
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 25 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'RESTART WITH 7' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 35 common frames omitted
2025-11-07 11:04:46.127 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 34144 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-07 11:04:46.132 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-07 11:04:46.135 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-07 11:04:46.203 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-07 11:04:46.203 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-07 11:04:48.834 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 11:04:48.838 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-07 11:04:49.073 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 215 ms. Found 5 JPA repository interfaces.
2025-11-07 11:04:49.107 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 11:04:49.109 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-07 11:04:49.138 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:04:49.140 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:04:49.141 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:04:49.143 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:04:49.143 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:04:49.145 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-11-07 11:04:50.339 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-07 11:04:50.356 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-07 11:04:50.361 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-07 11:04:50.362 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-07 11:04:50.451 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-07 11:04:50.451 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4247 ms
2025-11-07 11:04:51.539 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-07 11:04:51.593 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-07 11:04:51.992 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b5eeea7
2025-11-07 11:04:51.995 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-07 11:04:52.047 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-07 11:04:52.049 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-07 11:04:53.404 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       drop 
       foreign key FK60ym08cfoysa17wrn1swyiuda
2025-11-07 11:04:53.446 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       drop 
       foreign key FKtk55mn6d6bvl5h0no5uagi3sf
2025-11-07 11:04:53.465 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       drop 
       foreign key FK30s8j2ktpay6of18lbyqn3632
2025-11-07 11:04:53.484 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       drop 
       foreign key FK3eud5cqmgsnltyk704hu3qj71
2025-11-07 11:04:53.503 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table produto 
       drop 
       foreign key FKb9jhjyghjcn25guim7q4pt8qx
2025-11-07 11:04:53.539 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists cliente
2025-11-07 11:04:53.563 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists item_pedido
2025-11-07 11:04:53.585 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists pedido
2025-11-07 11:04:53.608 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists produto
2025-11-07 11:04:53.632 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists restaurante
2025-11-07 11:04:53.654 [restartedMain] DEBUG [] org.hibernate.SQL - 
    drop table if exists usuario
2025-11-07 11:04:53.681 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table cliente (
        ativo bit not null,
        data_criacao datetime(6),
        id bigint not null auto_increment,
        email varchar(255) not null,
        endereco varchar(255),
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-11-07 11:04:53.728 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table item_pedido (
        preco_unitario decimal(38,2) not null,
        quantidade integer not null,
        subtotal decimal(38,2) not null,
        id bigint not null auto_increment,
        pedido_id bigint not null,
        produto_id bigint not null,
        observacoes varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-07 11:04:53.760 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table pedido (
        subtotal decimal(38,2),
        taxa_entrega decimal(38,2),
        valor_total decimal(38,2),
        cliente_id bigint,
        data_pedido datetime(6),
        id bigint not null auto_increment,
        restaurante_id bigint,
        cep varchar(255),
        endereco_entrega varchar(255),
        forma_pagamento varchar(255),
        observacoes varchar(255),
        status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'),
        primary key (id)
    ) engine=InnoDB
2025-11-07 11:04:53.792 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table produto (
        disponivel bit not null,
        preco decimal(38,2),
        id bigint not null auto_increment,
        restaurante_id bigint not null,
        categoria varchar(255),
        descricao varchar(255),
        imagem_url varchar(255),
        nome varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-07 11:04:53.826 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table restaurante (
        ativo bit not null,
        avaliacao decimal(38,2),
        taxa_entrega decimal(38,2),
        tempo_entrega integer,
        id bigint not null auto_increment,
        categoria varchar(255),
        endereco varchar(255),
        horario_funcionamento varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-07 11:04:53.858 [restartedMain] DEBUG [] org.hibernate.SQL - 
    create table usuario (
        ativo bit not null,
        data_criacao datetime(6) not null,
        id bigint not null auto_increment,
        restaurante_id bigint,
        email varchar(255) not null,
        nome varchar(255) not null,
        senha varchar(255) not null,
        role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null,
        primary key (id)
    ) engine=InnoDB
2025-11-07 11:04:53.891 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table cliente 
       add constraint UKcmxo70m08n43599l3h0h07cc6 unique (email)
2025-11-07 11:04:53.917 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table usuario 
       add constraint UK5171l57faosmj8myawaucatdw unique (email)
2025-11-07 11:04:53.947 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido (id)
2025-11-07 11:04:54.053 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto (id)
2025-11-07 11:04:54.172 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente (id)
2025-11-07 11:04:54.259 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante (id)
2025-11-07 11:04:54.349 [restartedMain] DEBUG [] org.hibernate.SQL - 
    alter table produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante (id)
2025-11-07 11:04:54.433 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 11:04:54.943 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-07 11:04:54.946 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-07 11:04:55.083 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-07 11:04:55.975 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-07 11:04:55.976 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-07 11:04:56.435 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-07 11:04:56.439 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.459 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-07 11:04:56.460 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.461 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-07 11:04:56.461 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.491 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-07 11:04:56.493 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.495 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-07 11:04:56.496 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.497 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-07 11:04:56.498 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.520 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 11:04:56.520 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.522 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 11:04:56.523 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:04:56.965 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-07 11:04:57.117 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-07 11:04:57.728 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-07 11:04:57.990 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-07 11:04:58.157 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-07 11:04:58.265 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-07 11:04:58.863 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/deliverydb'
2025-11-07 11:04:59.028 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-07 11:04:59.138 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-07 11:04:59.183 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-07 11:04:59.208 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 13.829 seconds (process running for 14.359)
2025-11-07 11:04:59.458 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Cliente x */ select
            count(*) 
        from
            cliente c1_0
2025-11-07 11:04:59.601 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone) 
    values
        (?, ?, ?, ?, ?, ?)
2025-11-07 11:04:59.655 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone) 
    values
        (?, ?, ?, ?, ?, ?)
2025-11-07 11:04:59.668 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Restaurante x */ select
            count(*) 
        from
            restaurante r1_0
2025-11-07 11:04:59.683 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-07 11:04:59.696 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-07 11:04:59.792 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-07 11:04:59.833 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-07 11:04:59.850 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\\'
2025-11-07 11:04:59.865 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-11-07 11:04:59.871 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-07 11:04:59.879 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-07 11:04:59.888 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-07 11:13:36.545 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Starting DeliveryApiApplication using Java 17.0.16 with PID 23736 (C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api\target\classes started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech)
2025-11-07 11:13:36.549 [restartedMain] DEBUG [] c.d.d.DeliveryApiApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-07 11:13:36.550 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-07 11:13:36.618 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-07 11:13:36.619 [restartedMain] INFO  [] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-07 11:13:38.725 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 11:13:38.728 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-07 11:13:38.963 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 210 ms. Found 5 JPA repository interfaces.
2025-11-07 11:13:38.997 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-07 11:13:39.001 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-07 11:13:39.029 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:13:39.031 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:13:39.032 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:13:39.033 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:13:39.034 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-07 11:13:39.034 [restartedMain] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-07 11:13:40.184 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-07 11:13:40.203 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-07 11:13:40.209 [restartedMain] INFO  [] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-07 11:13:40.210 [restartedMain] INFO  [] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-07 11:13:40.296 [restartedMain] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-07 11:13:40.298 [restartedMain] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3678 ms
2025-11-07 11:13:41.468 [restartedMain] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-07 11:13:41.527 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-07 11:13:41.992 [restartedMain] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e747403
2025-11-07 11:13:41.994 [restartedMain] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-07 11:13:42.060 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-07 11:13:42.062 [restartedMain] WARN  [] org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-07 11:13:43.626 [restartedMain] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-07 11:13:44.161 [restartedMain] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-07 11:13:44.164 [restartedMain] DEBUG [] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-07 11:13:44.281 [restartedMain] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-07 11:13:45.249 [restartedMain] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-07 11:13:45.251 [restartedMain] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-07 11:13:45.760 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-07 11:13:45.763 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.781 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-07 11:13:45.782 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.783 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-07 11:13:45.783 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.815 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-07 11:13:45.815 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.817 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-07 11:13:45.818 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.819 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-07 11:13:45.819 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.843 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 11:13:45.843 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:45.845 [restartedMain] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-07 11:13:45.846 [restartedMain] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:13:46.282 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 45 mappings in 'requestMappingHandlerMapping'
2025-11-07 11:13:46.444 [restartedMain] DEBUG [] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-07 11:13:47.086 [restartedMain] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-11-07 11:13:47.369 [restartedMain] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-07 11:13:47.540 [restartedMain] DEBUG [] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-07 11:13:47.649 [restartedMain] DEBUG [] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-07 11:13:48.246 [restartedMain] INFO  [] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/deliverydb'
2025-11-07 11:13:48.330 [restartedMain] INFO  [] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-07 11:13:48.423 [restartedMain] INFO  [] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-07 11:13:48.457 [restartedMain] INFO  [] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-07 11:13:48.481 [restartedMain] INFO  [] c.d.d.DeliveryApiApplication - Started DeliveryApiApplication in 12.62 seconds (process running for 13.122)
2025-11-07 11:13:48.646 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Cliente x */ select
            count(*) 
        from
            cliente c1_0
2025-11-07 11:13:48.689 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Restaurante x */ select
            count(*) 
        from
            restaurante r1_0
2025-11-07 11:13:48.772 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-11-07 11:13:48.825 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-07 11:13:48.840 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        upper(c1_0.nome) like upper(?) escape '\\'
2025-11-07 11:13:48.850 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-11-07 11:13:48.860 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.ativo
2025-11-07 11:13:48.868 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.categoria=?
2025-11-07 11:13:48.875 [restartedMain] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
2025-11-07 11:18:23.943 [http-nio-8080-exec-1] INFO  [] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-07 11:18:23.944 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-07 11:18:23.944 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-07 11:18:23.945 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-07 11:18:23.945 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-07 11:18:23.948 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@40ca65c3
2025-11-07 11:18:23.949 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5023f5d7
2025-11-07 11:18:23.949 [http-nio-8080-exec-1] DEBUG [] o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-07 11:18:23.949 [http-nio-8080-exec-1] INFO  [] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-07 11:18:24.015 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-11-07 11:18:24.049 [http-nio-8080-exec-1] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.053 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.054 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 52CCAD48BD42957082821141E5A8DB5C
2025-11-07 11:18:24.071 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui.html
2025-11-07 11:18:24.143 [http-nio-8080-exec-1] DEBUG [63dd4acebeda4e8f] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui.html", parameters={}
2025-11-07 11:18:24.151 [http-nio-8080-exec-1] DEBUG [63dd4acebeda4e8f] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc#redirectToUi(HttpServletRequest)
2025-11-07 11:18:24.230 [http-nio-8080-exec-1] DEBUG [63dd4acebeda4e8f] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:18:24.232 [http-nio-8080-exec-1] DEBUG [63dd4acebeda4e8f] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-11-07 11:18:24.234 [http-nio-8080-exec-1] DEBUG [63dd4acebeda4e8f] o.s.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-11-07 11:18:24.255 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-07 11:18:24.258 [http-nio-8080-exec-3] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.259 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.260 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-11-07 11:18:24.261 [http-nio-8080-exec-3] DEBUG [1370d509e2194caa] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-11-07 11:18:24.264 [http-nio-8080-exec-3] DEBUG [1370d509e2194caa] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.275 [http-nio-8080-exec-3] DEBUG [1370d509e2194caa] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.337 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-11-07 11:18:24.340 [http-nio-8080-exec-2] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.340 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.342 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-11-07 11:18:24.343 [http-nio-8080-exec-2] DEBUG [68b60bd918f94cb2] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-11-07 11:18:24.344 [http-nio-8080-exec-2] DEBUG [68b60bd918f94cb2] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.346 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-11-07 11:18:24.347 [http-nio-8080-exec-4] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.349 [http-nio-8080-exec-4] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.349 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-11-07 11:18:24.350 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.350 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.350 [http-nio-8080-exec-4] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-11-07 11:18:24.351 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-11-07 11:18:24.351 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-11-07 11:18:24.351 [http-nio-8080-exec-4] DEBUG [8c6a663afc034327] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-11-07 11:18:24.351 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.351 [http-nio-8080-exec-6] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.352 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-11-07 11:18:24.352 [http-nio-8080-exec-6] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.352 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.352 [http-nio-8080-exec-5] DEBUG [9c9ba3f742ac41f7] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-11-07 11:18:24.352 [http-nio-8080-exec-4] DEBUG [8c6a663afc034327] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.353 [http-nio-8080-exec-2] DEBUG [68b60bd918f94cb2] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.353 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-11-07 11:18:24.353 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-11-07 11:18:24.354 [http-nio-8080-exec-5] DEBUG [9c9ba3f742ac41f7] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.354 [http-nio-8080-exec-8] DEBUG [a8a38ed4a9ca489f] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-11-07 11:18:24.354 [http-nio-8080-exec-6] DEBUG [2559035f0b474320] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-11-07 11:18:24.354 [http-nio-8080-exec-8] DEBUG [a8a38ed4a9ca489f] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.355 [http-nio-8080-exec-6] DEBUG [2559035f0b474320] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.355 [http-nio-8080-exec-4] DEBUG [8c6a663afc034327] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.365 [http-nio-8080-exec-6] DEBUG [2559035f0b474320] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.378 [http-nio-8080-exec-5] DEBUG [9c9ba3f742ac41f7] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.395 [http-nio-8080-exec-8] DEBUG [a8a38ed4a9ca489f] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.516 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api-docs/swagger-config
2025-11-07 11:18:24.517 [http-nio-8080-exec-7] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.517 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-11-07 11:18:24.517 [http-nio-8080-exec-7] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.519 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.519 [http-nio-8080-exec-7] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api-docs/swagger-config
2025-11-07 11:18:24.519 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.520 [http-nio-8080-exec-7] DEBUG [9015107e3c8e44f9] o.s.web.servlet.DispatcherServlet - GET "/api-docs/swagger-config", parameters={}
2025-11-07 11:18:24.521 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-11-07 11:18:24.521 [http-nio-8080-exec-7] DEBUG [9015107e3c8e44f9] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-11-07 11:18:24.522 [http-nio-8080-exec-9] DEBUG [e69374b6f28a4ef5] o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-11-07 11:18:24.524 [http-nio-8080-exec-9] DEBUG [e69374b6f28a4ef5] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-07 11:18:24.525 [http-nio-8080-exec-7] DEBUG [9015107e3c8e44f9] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-11-07 11:18:24.527 [http-nio-8080-exec-9] DEBUG [e69374b6f28a4ef5] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.547 [http-nio-8080-exec-7] DEBUG [9015107e3c8e44f9] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/api-docs/swagger-config, filter=true, oauth2RedirectUrl=http://localhost:8080/swagger-ui (truncated)...]
2025-11-07 11:18:24.557 [http-nio-8080-exec-7] DEBUG [9015107e3c8e44f9] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:18:24.570 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-11-07 11:18:24.572 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:18:24.573 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:18:24.576 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-11-07 11:18:24.577 [http-nio-8080-exec-10] DEBUG [eac5b4bb21c04732] o.s.web.servlet.DispatcherServlet - GET "/api-docs", parameters={}
2025-11-07 11:18:24.577 [http-nio-8080-exec-10] DEBUG [eac5b4bb21c04732] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-07 11:18:25.884 [http-nio-8080-exec-10] INFO  [eac5b4bb21c04732] o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1283 ms
2025-11-07 11:18:25.952 [http-nio-8080-exec-10] DEBUG [eac5b4bb21c04732] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-11-07 11:18:25.963 [http-nio-8080-exec-10] DEBUG [eac5b4bb21c04732] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-07 11:18:25.966 [http-nio-8080-exec-10] DEBUG [eac5b4bb21c04732] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:20:36.648 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-07 11:20:36.650 [http-nio-8080-exec-5] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:20:36.652 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:20:36.663 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 11:20:36.677 [http-nio-8080-exec-5] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /error
2025-11-07 11:20:36.679 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:20:36.680 [http-nio-8080-exec-5] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 11:26:25.356 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-07 11:26:25.362 [http-nio-8080-exec-9] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:26:25.364 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:26:25.367 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 11:26:25.370 [http-nio-8080-exec-9] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /error
2025-11-07 11:26:25.372 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:26:25.374 [http-nio-8080-exec-9] DEBUG [] o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-07 11:33:57.054 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-07 11:33:57.056 [http-nio-8080-exec-10] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:33:57.057 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:33:57.059 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-07 11:33:57.060 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-07 11:33:57.060 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#login(LoginRequest)
2025-11-07 11:33:57.078 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(email=admin@delivery.com, password=123456)]
2025-11-07 11:33:57.193 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:33:57.257 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-07 11:33:57.261 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:33:57.295 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:33:57.296 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJub21lIjoiQWRtaW4gU2lzdGVtYSIsInVzZXJ (truncated)...]
2025-11-07 11:33:57.298 [http-nio-8080-exec-10] DEBUG [dac32e6e16b544f9] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:35:42.563 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-07 11:35:42.591 [http-nio-8080-exec-3] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:35:42.600 [http-nio-8080-exec-3] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from AF6962A20F7B8FC1551CF77C42DB6864
2025-11-07 11:35:42.602 [http-nio-8080-exec-3] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-07 11:35:42.603 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] o.s.web.servlet.DispatcherServlet - POST "/api/clientes", parameters={}
2025-11-07 11:35:42.604 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ClienteController#cadastrarCliente(ClienteDTO)
2025-11-07 11:35:42.607 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ClienteDTO(nome=Keanu Reeves, email=kreeves@email.com, telefone=21912349999, endereco=Rua Copacabana (truncated)...]
2025-11-07 11:35:42.621 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-11-07 11:35:42.690 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Cliente */insert 
    into
        cliente (ativo, data_criacao, email, endereco, nome, telefone) 
    values
        (?, ?, ?, ?, ?, ?)
2025-11-07 11:35:42.743 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:35:42.747 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClienteResponseDTO(id=6, nome=Keanu Reeves, email=kreeves@email.com, telefone=21912349999, endereco= (truncated)...]
2025-11-07 11:35:42.749 [http-nio-8080-exec-3] DEBUG [7bfd5c33b0444ff4] o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-07 11:42:49.506 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /restaurantes
2025-11-07 11:42:49.515 [http-nio-8080-exec-6] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:42:49.530 [http-nio-8080-exec-6] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /restaurantes
2025-11-07 11:42:49.531 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.web.servlet.DispatcherServlet - POST "/restaurantes", parameters={}
2025-11-07 11:42:49.533 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-07 11:42:49.534 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-07 11:42:49.540 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.deliverytech.delivery_api.exception.GlobalExceptionHandler#handleGenericException(Exception, WebRequest)
2025-11-07 11:42:49.550 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:42:49.556 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-07T11:42:49.543293, status=500, error=Erro interno do servidor, mess (truncated)...]
2025-11-07 11:42:49.560 [http-nio-8080-exec-6] WARN  [c8b7bb249cbd4373] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource restaurantes.]
2025-11-07 11:42:49.560 [http-nio-8080-exec-6] DEBUG [c8b7bb249cbd4373] o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-07 11:43:20.541 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-07 11:43:20.543 [http-nio-8080-exec-8] WARN  [] c.d.d.s.JwtAuthenticationFilter - JWT Token não começa com 'Bearer '
2025-11-07 11:43:20.543 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-07 11:43:20.544 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-07 11:43:20.546 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-07 11:43:20.547 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.AuthController#login(LoginRequest)
2025-11-07 11:43:20.548 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(email=admin@delivery.com, password=123456)]
2025-11-07 11:43:20.552 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:43:20.646 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-07 11:43:20.648 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:43:20.654 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:43:20.654 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJub21lIjoiQWRtaW4gU2lzdGVtYSIsInVzZXJ (truncated)...]
2025-11-07 11:43:20.656 [http-nio-8080-exec-8] DEBUG [fcb25f93d57740c0] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 11:46:00.649 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /restaurantes
2025-11-07 11:46:00.661 [http-nio-8080-exec-10] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:46:00.676 [http-nio-8080-exec-10] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 338A1A6D7DD189C17B9BB20CE5123F6A
2025-11-07 11:46:00.679 [http-nio-8080-exec-10] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /restaurantes
2025-11-07 11:46:00.680 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.web.servlet.DispatcherServlet - POST "/restaurantes", parameters={}
2025-11-07 11:46:00.682 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-07 11:46:00.687 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-07 11:46:00.692 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.deliverytech.delivery_api.exception.GlobalExceptionHandler#handleGenericException(Exception, WebRequest)
2025-11-07 11:46:00.693 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:46:00.696 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-07T11:46:00.693791200, status=500, error=Erro interno do servidor, m (truncated)...]
2025-11-07 11:46:00.699 [http-nio-8080-exec-10] WARN  [54e9a1b00588445e] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource restaurantes.]
2025-11-07 11:46:00.700 [http-nio-8080-exec-10] DEBUG [54e9a1b00588445e] o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-07 11:52:13.757 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/restaurantes
2025-11-07 11:52:13.764 [http-nio-8080-exec-1] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:52:13.771 [http-nio-8080-exec-1] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 81843108D4113D556683C731A801EF99
2025-11-07 11:52:13.773 [http-nio-8080-exec-1] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/restaurantes
2025-11-07 11:52:13.773 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.web.servlet.DispatcherServlet - POST "/api/restaurantes", parameters={}
2025-11-07 11:52:13.774 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.RestauranteController#cadastrarRestaurante(RestauranteDTO)
2025-11-07 11:52:13.778 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RestauranteDTO(nome=Mc Donalds, categoria=LANCHES, endereco=Av.da Praia, 1250 - Vila Rica - Santos/S (truncated)...]
2025-11-07 11:52:13.813 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.deliverytech.delivery_api.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-11-07 11:52:13.816 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:52:13.817 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-07T11:52:13.814809600, status=400, error=Dados inválidos, message=Er (truncated)...]
2025-11-07 11:52:13.819 [http-nio-8080-exec-1] WARN  [b6a6d1e2dc9d4de2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.deliverytech.delivery_api.dto.ApiResponseWrapper<com.deliverytech.delivery_api.dto.RestauranteResponseDTO>> com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO): [Field error in object 'restauranteDTO' on field 'taxaEntrega': rejected value [null]; codes [NotNull.restauranteDTO.taxaEntrega,NotNull.taxaEntrega,NotNull.java.math.BigDecimal,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [restauranteDTO.taxaEntrega,taxaEntrega]; arguments []; default message [taxaEntrega]]; default message [A taxa de entrega é obrigatória.]] ]
2025-11-07 11:52:13.820 [http-nio-8080-exec-1] DEBUG [b6a6d1e2dc9d4de2] o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-11-07 11:52:40.086 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/restaurantes
2025-11-07 11:52:40.094 [http-nio-8080-exec-2] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:52:40.104 [http-nio-8080-exec-2] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from EB2538580D2E50CA3B951212386B24F3
2025-11-07 11:52:40.106 [http-nio-8080-exec-2] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/restaurantes
2025-11-07 11:52:40.106 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.web.servlet.DispatcherServlet - POST "/api/restaurantes", parameters={}
2025-11-07 11:52:40.108 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.RestauranteController#cadastrarRestaurante(RestauranteDTO)
2025-11-07 11:52:40.117 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RestauranteDTO(nome=Mc Donalds, categoria=LANCHES, endereco=Av.da Praia, 1250 - Vila Rica - Santos/S (truncated)...]
2025-11-07 11:52:40.129 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO); target is of class [com.deliverytech.delivery_api.controller.RestauranteController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-07 11:52:40.144 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] org.hibernate.SQL - 
    /* <criteria> */ select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.horario_funcionamento,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone,
        r1_0.tempo_entrega 
    from
        restaurante r1_0 
    where
        r1_0.nome=?
2025-11-07 11:52:40.154 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] org.hibernate.SQL - 
    /* insert for
        com.deliverytech.delivery_api.model.Restaurante */insert 
    into
        restaurante (ativo, avaliacao, categoria, endereco, horario_funcionamento, nome, taxa_entrega, telefone, tempo_entrega) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-07 11:52:40.173 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:52:40.182 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponseWrapper(success=true, data=RestauranteResponseDTO(id=6, nome=Mc Donalds, categoria=LANCHE (truncated)...]
2025-11-07 11:52:40.185 [http-nio-8080-exec-2] DEBUG [1f8860be2ed04709] o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-07 11:58:12.353 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes
2025-11-07 11:58:12.362 [http-nio-8080-exec-8] DEBUG [] org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.ativo,
        u1_0.data_criacao,
        u1_0.email,
        u1_0.nome,
        u1_0.restaurante_id,
        u1_0.role,
        u1_0.senha 
    from
        usuario u1_0 
    where
        u1_0.email=?
2025-11-07 11:58:12.371 [http-nio-8080-exec-8] DEBUG [] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from C4F86E44C5BDF6F99B8DA908FC5D3720
2025-11-07 11:58:12.373 [http-nio-8080-exec-8] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes
2025-11-07 11:58:12.373 [http-nio-8080-exec-8] DEBUG [41c95fe7b3954cb6] o.s.web.servlet.DispatcherServlet - GET "/api/clientes", parameters={}
2025-11-07 11:58:12.375 [http-nio-8080-exec-8] DEBUG [41c95fe7b3954cb6] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.deliverytech.delivery_api.controller.ClienteController#listarClientesAtivos()
2025-11-07 11:58:12.378 [http-nio-8080-exec-8] DEBUG [41c95fe7b3954cb6] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.ativo,
        c1_0.data_criacao,
        c1_0.email,
        c1_0.endereco,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.ativo
2025-11-07 11:58:12.387 [http-nio-8080-exec-8] DEBUG [41c95fe7b3954cb6] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-11-07 11:58:12.387 [http-nio-8080-exec-8] DEBUG [41c95fe7b3954cb6] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ClienteResponseDTO(id=1, nome=Joao Silva, email=joao@email.com, telefone=(11) 99999-1111, endereco= (truncated)...]
2025-11-07 11:58:12.391 [http-nio-8080-exec-8] DEBUG [41c95fe7b3954cb6] o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-07 12:30:36.581 [HikariPool-1:housekeeper] WARN  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m22s327ms410µs400ns).
